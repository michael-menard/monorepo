# Story Risk Predictions: REPA-005
# Generated by pm-story-risk-predictor (WKFL-007)
# Model: haiku (heuristic-based analysis)

predictions:
  split_risk: 0.7
  review_cycles: 3
  token_estimate: 185000
  confidence: low
  similar_stories: []
  generated_at: "2026-02-11T17:45:00Z"
  model: haiku
  wkfl_version: "007-v1"
  
calculation_details:
  ac_count: 16
  scope_keywords:
    - frontend
    - multi-component
    - migration
    - dependency-injection
  estimated_files: 40
  patterns_available: false
  kb_available: false
  
split_risk_calculation: |
  Base risk from AC count: (16 - 3) * 0.1 = 1.3 â†’ clamped to 1.0
  Frontend complexity: -0.1 (pure frontend, no backend)
  Multi-component scope: -0.2 (migration, not net-new logic)
  Dependency on REPA-003: 0.0 (accounted in dependencies, not scope)
  Final: 1.0 - 0.1 - 0.2 = 0.7

review_cycles_calculation: |
  Base cycles: 1
  Scope keywords > 3: +1 (4 keywords)
  Estimated files > 5: +1 (40 files estimated)
  Large migration scope: +1 (9 components + 2 apps)
  No WKFL-006 patterns: +0 (degraded mode)
  Final: 1 + 1 + 1 + 0 = 3

token_estimate_calculation: |
  No similar stories found (KB unavailable or no data)
  Using global default: 150,000 tokens
  Adjusted for scope (16 ACs, large migration): +23% = 185,000 tokens
  Rounded to nearest 1000: 185,000

confidence_rationale: |
  Confidence: low
  - No similar stories found (KB unavailable)
  - WKFL-006 patterns unavailable (experiments.yaml empty)
  - Heuristics-only mode
  - Large scope (16 ACs, 9 components) increases uncertainty

notes: |
  - Split risk HIGH (0.7) due to large scope (16 ACs, 9 components, 2 apps)
  - Review cycles MEDIUM (3) due to multi-component migration complexity
  - Token estimate based on global default + scope adjustment (no similar stories)
  - Recommend monitoring progress closely for potential mid-implementation split
  - SessionProvider dependency on REPA-003 may cause delays
