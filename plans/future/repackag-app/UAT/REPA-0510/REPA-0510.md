---
id: REPA-0510
title: "Migrate Core Upload Components to @repo/upload"
status: ready-for-qa
split_from: REPA-005
split_part: 1 of 2
priority: P2
experiment_variant: control
epic: repackag-app
depends_on: [REPA-004]
story_points: 5
created_at: "2026-02-11"
updated_at: "2026-02-11T23:59:00Z"
elaborated: "2026-02-11T18:02:00Z"
verdict: "PASS"
implementation_started: "2026-02-11T17:27:32Z"
qa_verified: "2026-02-11T23:59:00Z"
---

# REPA-0510: Migrate Core Upload Components to @repo/upload

## Split Context

This story is part of a split from REPA-005.
- **Original Story:** REPA-005 (Migrate Upload Components)
- **Split Reason:** Story exceeded multiple "too large" indicators (16 ACs, 9 components, 8 SP, REPA-003 blocking dependency). Audit Check #8 (Story Sizing) failed with High severity.
- **This Part:** 1 of 2 (Split 1)
- **Dependency:** REPA-004 (UAT, non-blocking)
- **Sibling Story:** REPA-0520 (SessionProvider migration, depends on REPA-003)

This split isolates the 8 core upload components that have NO dependency on REPA-003 (useUploaderSession hook), enabling immediate implementation while REPA-003 completes.

---

## Context

The monorepo currently has **7 duplicate Uploader sub-components** split across `main-app` and `app-instructions-gallery`, totaling approximately **1,945 lines of duplicate code**. Additionally, there are **2 domain-specific upload components** (ThumbnailUpload and InstructionsUpload) in app-instructions-gallery that should be extracted to a shared package for reuse.

### Current State

**Duplicate Uploader Sub-Components** (2 apps):
1. **ConflictModal**: 195 lines × 2 apps = 390 lines (EXACT duplicates)
   - Handles 409 Conflict errors with suggested slug
   - Features: Focus management, ARIA attributes
2. **RateLimitBanner**: 144 lines × 2 apps = 288 lines (EXACT duplicates)
   - Handles 429 Rate Limit errors with countdown timer
   - Features: Countdown timer (MM:SS), retry button, progress bar, reduced-motion support
3. **SessionExpiredBanner**: Similar to RateLimitBanner
   - Handles 401 Session Expired errors
4. **UnsavedChangesDialog**: Dialog with tests
   - Prevents data loss on navigation
5. **UploaderFileItem**: 235 lines
   - Single file display with progress, status, actions
   - Uses types from @repo/upload/types
6. **UploaderList**: List container for file items
   - Supports batch operations

**Domain-Specific Upload Components** (app-instructions-gallery only):
7. **ThumbnailUpload**: 288 lines
   - Drag-and-drop image upload with validation and preview
   - Has tests
8. **InstructionsUpload**: 359 lines
   - Multi-file PDF upload with sequential processing
   - Has tests

**NOTE:** SessionProvider (component #9 from original story) is handled in REPA-0520 due to its REPA-003 dependency.

All components use @repo/app-component-library primitives (Dialog, Alert, Button, Progress, Card, Badge, Input, Label) and follow monorepo conventions (Zod types, accessibility-first design).

### Problems

1. **Maintenance Burden**: All bug fixes or enhancements must be applied to multiple locations (~1,945 LOC across apps)
2. **Code Duplication**: No shared upload UI patterns for new apps
3. **Limited Reusability**: Domain-specific components (ThumbnailUpload, InstructionsUpload) locked in app-instructions-gallery

### Solution

Extract 8 Uploader components into `@repo/upload/components/` with:
- Clear component structure following monorepo conventions
- Preserved test coverage (80%+ target)
- Backward-compatible APIs where possible
- Migration guide for consuming apps

---

## Goal

Core upload components consolidated in @repo/upload with:
- Single source of truth for 8 upload UI components
- No duplicate components in apps
- Reusable components available to all apps via @repo/upload
- Preserved test coverage and accessibility features
- main-app and app-instructions-gallery successfully migrated

---

## Non-Goals

- **SessionProvider migration**: Deferred to REPA-0520 (depends on REPA-003)
- **Upload hook migration**: useUploadManager and useUploaderSession are being migrated in REPA-003 (dependency for REPA-0520)
- **Image processing migration**: Already handled by REPA-004 (currently in UAT)
- **Upload types migration**: Deferred to REPA-006
- **Component-level schema consolidation**: FileValidationResult duplication deferred to REPA-017
- **Backend upload API changes**: No changes to presigned URLs or upload session endpoints
- **New component features**: Only consolidate existing functionality, no new features
- **Storybook documentation**: Deferred to follow-up work
- **Other apps adoption**: Only migrate main-app and app-instructions-gallery consumers in this story

---

## Scope

### Packages Modified

- `packages/core/upload/src/components/` - Add 8 components
- `packages/core/upload/src/components/index.ts` - Export components (explicit exports, NOT barrel file)
- `apps/web/main-app/` - Update imports
- `apps/web/app-instructions-gallery/` - Update imports

### Components Migrated

**Core Uploader Sub-Components** (6):
- ConflictModal
- RateLimitBanner
- SessionExpiredBanner
- UnsavedChangesDialog
- UploaderFileItem
- UploaderList

**Domain-Specific Upload Components** (2):
- ThumbnailUpload
- InstructionsUpload

### Endpoints Touched

None - This is a pure frontend component migration.

---

## Acceptance Criteria

### Core Uploader Sub-Components

- [ ] **AC-1**: Migrate ConflictModal to `@repo/upload/components/ConflictModal/`
  - Single implementation replacing both app duplicates
  - Preserve focus management, ARIA attributes, suggested slug feature
  - Move tests to `__tests__/ConflictModal.test.tsx`
  - Component directory structure: index.tsx, __tests__/, __types__/

- [ ] **AC-2**: Migrate RateLimitBanner to `@repo/upload/components/RateLimitBanner/`
  - Single implementation replacing both app duplicates
  - Preserve countdown timer, retry logic, reduced-motion support
  - Add tests for countdown behavior
  - Component directory structure: index.tsx, __tests__/, __types__/

- [ ] **AC-3**: Migrate SessionExpiredBanner to `@repo/upload/components/SessionExpiredBanner/`
  - Follow RateLimitBanner pattern
  - Handle 401 session expiry with refresh prompt
  - Component directory structure: index.tsx, __tests__/, __types__/

- [ ] **AC-4**: Migrate UnsavedChangesDialog to `@repo/upload/components/UnsavedChangesDialog/`
  - Consolidate both app versions
  - Migrate existing tests to package
  - Component directory structure: index.tsx, __tests__/, __types__/

- [ ] **AC-5**: Migrate UploaderFileItem to `@repo/upload/components/UploaderFileItem/`
  - Single implementation replacing both app duplicates
  - Preserve file type icons, status badges, progress tracking
  - Already uses types from @repo/upload/types
  - Component directory structure: index.tsx, __tests__/, __types__/

- [ ] **AC-6**: Migrate UploaderList to `@repo/upload/components/UploaderList/`
  - List container for UploaderFileItem components
  - Support batch operations (cancel all, retry all)
  - Component directory structure: index.tsx, __tests__/, __types__/

### Domain-Specific Upload Components

- [ ] **AC-8**: Migrate ThumbnailUpload to `@repo/upload/components/ThumbnailUpload/`
  - Move from app-instructions-gallery
  - Preserve drag-and-drop, validation, preview features
  - Move __types__/index.ts schemas to component
  - Migrate tests from app-instructions-gallery
  - Component directory structure: index.tsx, __tests__/, __types__/, utils/

- [ ] **AC-9**: Migrate InstructionsUpload to `@repo/upload/components/InstructionsUpload/`
  - Move from app-instructions-gallery
  - Preserve multi-file queue, sequential upload, progress tracking
  - Move __types__/index.ts schemas to component
  - Migrate tests from app-instructions-gallery
  - Component directory structure: index.tsx, __tests__/, __types__/, utils/

### Shared Type Migration (DEFERRED)

- [ ] **AC-10**: Document FileValidationResult schema duplication
  - ThumbnailUpload and InstructionsUpload both define identical FileValidationResult schemas
  - Add note in @repo/upload README: "FileValidationResult duplication to be resolved in REPA-017"
  - For now, keep schemas local to each component
  - Add cross-reference comment in both component __types__/index.ts files

### Package Structure & Exports

- [ ] **AC-11**: Update @repo/upload/components/index.ts with explicit exports
  - NO barrel file pattern (violates CLAUDE.md)
  - Export each component explicitly:
    ```ts
    export { ConflictModal } from './ConflictModal'
    export { RateLimitBanner } from './RateLimitBanner'
    export { SessionExpiredBanner } from './SessionExpiredBanner'
    export { UnsavedChangesDialog } from './UnsavedChangesDialog'
    export { UploaderFileItem } from './UploaderFileItem'
    export { UploaderList } from './UploaderList'
    export { ThumbnailUpload } from './ThumbnailUpload'
    export { InstructionsUpload } from './InstructionsUpload'
    ```
  - Document import paths in package README

### App Migration & Cleanup

- [ ] **AC-12**: Update main-app imports
  - Replace all `@/components/Uploader/*` imports with `@repo/upload/components/*`
  - NOTE: SessionProvider import updates deferred to REPA-0520
  - Delete old Uploader/ directory after migration verified (EXCEPT SessionProvider)
  - Update tests to import from @repo/upload
  - Verify no imports from old paths remain

- [ ] **AC-13**: Update app-instructions-gallery imports
  - Replace all `@/components/Uploader/*` imports with `@repo/upload/components/*`
  - Replace ThumbnailUpload and InstructionsUpload imports with `@repo/upload/components/*`
  - NOTE: SessionProvider import updates deferred to REPA-0520
  - Delete old component directories after migration verified (EXCEPT SessionProvider)
  - Update tests to import from @repo/upload
  - Verify no imports from old paths remain

### Testing & Quality

- [ ] **AC-14**: All migrated components have tests with 80%+ coverage
  - ConflictModal tests
  - RateLimitBanner countdown tests
  - SessionExpiredBanner tests
  - UnsavedChangesDialog tests (migrated)
  - UploaderFileItem tests
  - UploaderList tests
  - ThumbnailUpload tests (migrated)
  - InstructionsUpload tests (migrated)
  - Package-level coverage target: 80% (exceeds global 45% minimum)
  - Run `pnpm test --filter=@repo/upload --coverage` to verify
  - No component below 75% coverage

- [ ] **AC-15**: Package builds and tests pass in isolation
  - `pnpm build --filter=@repo/upload` succeeds
  - `pnpm test --filter=@repo/upload` passes (all component tests)
  - `pnpm check-types --filter=@repo/upload` passes
  - No imports from `apps/web/*` in package code (violates package boundary)

- [ ] **AC-16**: App-level tests pass after migration
  - `pnpm test --filter=main-app` passes (all existing tests)
  - `pnpm test --filter=app-instructions-gallery` passes (all existing tests)
  - Integration tests for uploader flows pass
  - Playwright E2E tests pass:
    - Instruction upload flow (main-app and app-instructions-gallery)
    - Thumbnail upload flow (app-instructions-gallery)
    - Rate limit error handling
    - Conflict error handling

---

## Reuse Plan

### UI Components (from @repo/app-component-library)

All upload components use @repo/app-component-library primitives via barrel export:
```tsx
import { Dialog, Alert, Button, Progress, Card, Badge, Input, Label } from '@repo/app-component-library'
```

**Critical**: Do NOT import from individual paths like `@repo/app-component-library/primitives/dialog`.

### Hooks & Types (from @repo packages)

- **@repo/upload/types**: UploaderFileItem, UploadStatus (already available from REPA-002)
- **@repo/upload/hooks**: useUploadManager (REPA-003 dependency - NOT required for this split)
- **@repo/hooks**: useUnsavedChangesPrompt (available from REPA-014)
- **lucide-react**: Icon library for file type icons, status icons

### Patterns from Prior Stories

- **REPA-002 pattern**: Create clear module structure with explicit exports (no barrel files)
- **REPA-004 pattern**: Migrate tests alongside components, maintain 80%+ coverage

---

## Architecture Notes

### Component Directory Structure (REQUIRED)

All migrated components MUST follow monorepo structure per CLAUDE.md:

```
ComponentName/
  index.tsx              # Main component file (function declaration)
  __tests__/
    ComponentName.test.tsx
  __types__/
    index.ts             # Zod schemas only (no TypeScript interfaces)
  utils/                 # Optional, if component-specific utilities
    index.ts
```

### Zod-First Types (REQUIRED)

All component props MUST be validated with Zod schemas per CLAUDE.md:

```tsx
import { z } from 'zod'

const ConflictModalPropsSchema = z.object({
  open: z.boolean(),
  onClose: z.function(),
  conflictError: z.object({
    status: z.literal(409),
    message: z.string(),
    suggested_slug: z.string().optional()
  })
})

type ConflictModalProps = z.infer<typeof ConflictModalPropsSchema>

export function ConflictModal(props: ConflictModalProps) {
  // implementation
}
```

**Do NOT use TypeScript interfaces** - violates CLAUDE.md requirements.

### Package Boundary Rules

**@repo/upload package CANNOT import from**:
- ❌ `apps/web/main-app/*`
- ❌ `apps/web/app-instructions-gallery/*`
- ❌ `@reduxjs/toolkit` or `react-redux`
- ❌ App-specific API clients

**@repo/upload package CAN import from**:
- ✅ `@repo/app-component-library`
- ✅ `@repo/upload/types`
- ✅ `@repo/upload/hooks` (for hooks other than useUploaderSession)
- ✅ `@repo/hooks`
- ✅ `lucide-react`
- ✅ `react`, `react-dom`, `zod`

### Component Migration Order (Recommended)

**Phase 1 - Simple Components (Low Risk)**:
1. UnsavedChangesDialog
2. SessionExpiredBanner
3. UploaderList

**Phase 2 - Medium Complexity**:
4. RateLimitBanner
5. ConflictModal
6. UploaderFileItem

**Phase 3 - Domain-Specific**:
7. ThumbnailUpload
8. InstructionsUpload

---

## Infrastructure Notes

### Package Publishing

- @repo/upload version bump (components added)
- No deprecated packages in this story (upload-client and upload-types deprecated in REPA-002 and REPA-006)

### Frontend Deployments

- main-app deploy (Vercel/Amplify) - Import path changes only
- app-instructions-gallery deploy (Vercel/Amplify) - Import path changes only

### No Backend Changes

This story does not touch backend APIs, presigned URLs, or upload session endpoints.

---

## HTTP Contract Plan

**N/A** - No backend endpoints modified in this story.

---

## Seed Requirements

### Implementation Prerequisites

Before starting migration:

1. **BLOCKING: Component Divergence Verification** (From DECISIONS.yaml Gap #1):
   - [ ] Run `diff` on all 7 Uploader sub-components between main-app and app-instructions-gallery
   - [ ] Document findings in `_implementation/DIVERGENCE-NOTES.md`
   - [ ] If divergence >10% LOC, add reconciliation sub-ACs or split further
   - [ ] Choose canonical implementation source (prefer version with better tests)

   **Why This Matters**: Seed requirements document this step as critical for choosing which app's implementation to migrate. This verification will inform the migration strategy for each component.

2. **Verify REPA-004 Status**: Check that image processing migration is complete (currently in UAT)

3. **Verify Package Structure**: Ensure `packages/core/upload/src/components/` directory exists (from REPA-001)

### Protected Features (Do Not Modify)

From seed reality context:
- @repo/upload package structure (REPA-001) - Do not restructure
- Upload client functions (REPA-002) - Do not modify
- Image processing (REPA-004) - Do not modify

---

## Test Plan

### Scope Summary

- **Endpoints Touched**: None (frontend only)
- **UI Touched**: Yes (8 upload components)
- **Data/Storage Touched**: No (components use existing hooks)

### Test Execution Order

1. **Phase 1**: Package tests in isolation
   - Migrate component code to @repo/upload
   - Migrate tests to package
   - Run `pnpm test --filter=@repo/upload` until 80%+ coverage achieved

2. **Phase 2**: App integration tests
   - Update imports in main-app
   - Run `pnpm test --filter=main-app` to catch regressions
   - Update imports in app-instructions-gallery
   - Run `pnpm test --filter=app-instructions-gallery` to catch regressions

3. **Phase 3**: E2E smoke tests
   - Run Playwright upload flows
   - Verify no visual regressions
   - Check error handling flows (rate limit, conflict)

4. **Phase 4**: Full test suite
   - `pnpm test:all` (all changed files)
   - `pnpm check-types:all` (all changed files)
   - `pnpm lint:all` (all changed files)

### Key Test Cases

**Happy Paths**:
- ConflictModal renders with suggested slug, focus management works
- RateLimitBanner countdown timer decrements correctly
- ThumbnailUpload drag-and-drop works, validation passes
- InstructionsUpload sequential processing works (files upload one at a time)

**Error Cases**:
- ConflictModal handles missing suggested slug gracefully
- RateLimitBanner handles invalid retryAfter values
- ThumbnailUpload rejects invalid file types
- InstructionsUpload handles upload failure mid-queue

**Edge Cases**:
- UnsavedChangesDialog prevents navigation on page unload
- SessionExpiredBanner auto-dismisses after refresh
- UploaderList with empty file queue shows empty state
- ThumbnailUpload with large image (10MB) applies compression
- RateLimitBanner with large retryAfter (3600 seconds = 1 hour)

### Blocking Conditions

Tests CANNOT proceed until:
1. ✅ Component divergence verification completed (pre-implementation checklist)
2. ✅ REPA-004 (image processing) is completed (currently in UAT)
3. ✅ @repo/upload package structure exists (REPA-001, completed)

---

## UI/UX Notes

### Verdict

**PASS-WITH-NOTES**

This story is a pure consolidation/migration effort with NO new UI features. All components already exist and are well-tested. The migration should preserve existing UI/UX exactly as-is.

### MVP Accessibility (Blocking Only)

**Focus Management in Modals (WCAG 2.1 AA)**:
- ConflictModal: Focus MUST move to suggested slug input when modal opens
- UnsavedChangesDialog: Focus MUST move to primary action button
- Test: Tab key cycles within modal only, Escape closes modal and returns focus

**Keyboard Navigation**:
- ThumbnailUpload: Drag zone MUST be keyboard accessible (file picker fallback button)
- UploaderFileItem: Action buttons (Cancel, Retry, Remove) MUST be keyboard accessible

**Screen Reader Requirements**:
- RateLimitBanner: Countdown timer MUST announce updates (aria-live="polite")
- UploaderFileItem: Upload progress MUST be announced (aria-valuenow, aria-valuemin, aria-valuemax)
- ConflictModal: Suggested slug explanation MUST be announced (aria-describedby)

### MVP Design System Rules

**Token-Only Colors (Hard Gate)**:
- ✅ No hex colors (e.g., `#FF0000`)
- ✅ No RGB/RGBA colors
- ✅ Only Tailwind color classes (e.g., `bg-sky-500`, `text-gray-700`)

**_primitives Import Requirement**:
- ✅ Import from barrel: `import { Dialog } from '@repo/app-component-library'`
- ❌ NOT from individual files: `import { Dialog } from '@repo/app-component-library/primitives/dialog'`

### Preservation Requirements

**DO**:
- Preserve all existing Tailwind classes exactly as-is
- Preserve all ARIA attributes (role, aria-labelledby, aria-describedby, aria-live)
- Preserve focus management logic (focus traps, autofocus, focus return)
- Preserve reduced-motion support (prefers-reduced-motion media query checks)
- Preserve all existing component props and APIs (backward compatibility)

**DO NOT**:
- Change component visual appearance or layout
- Add new UI features (out of scope)
- Remove accessibility features
- Simplify or "clean up" existing implementations (risk of regression)

---

## Risk Predictions

### Split Risk: 0.3 (Low)

**Interpretation**: 30% probability this story will need to be further split mid-implementation.

**Drivers**:
- Reduced scope from parent (15 ACs vs 16 ACs)
- No REPA-003 blocking dependency
- Clear component boundaries

**Mitigation**:
- Monitor progress closely in _implementation/PROGRESS.md
- Prioritize simple components first (UnsavedChangesDialog, SessionExpiredBanner, UploaderList)

### Review Cycles: 2 (Low-Medium)

**Interpretation**: Expect 2 code review iterations before merge.

**Drivers**:
- Large file count (estimated 35 files touched)
- Multi-component scope requires careful review

**Mitigation**:
- Break PRs into logical phases (simple components → medium complexity → domain-specific)
- Document migration decisions in PR descriptions
- Include before/after test coverage reports

### Token Estimate: 120,000

**Interpretation**: Expected total token cost for full implementation and review cycles.

**Confidence**: Low (no similar stories found, heuristic-based estimate)

**Mitigation**:
- Track token usage in _implementation/TOKENS.md
- Compare actual vs estimate for future story calibration

---

## Dev Feasibility Notes

### Feasibility Summary

**Feasible for MVP**: Yes

**Confidence**: High

**Key Risks**:
1. **Component Divergence Not Documented**: Seed assumes exact duplicates, but divergence may exist
2. **Test Migration Breaking CI**: Package test setup must include all MSW handlers
3. **Import Path Churn**: 20-30 files per app need import updates

### Mitigation Strategies

1. BLOCKING: Run file diffs on all Uploader sub-components before migration (pre-implementation checklist)
2. Create `packages/core/upload/src/test/setup.ts` with MSW handlers BEFORE migrating tests
3. Use find-and-replace for import updates, verify with TypeScript compilation

---

## Dependencies

**NON-BLOCKING**:
- REPA-004 (image processing) - currently in UAT, expected to complete before this story starts
- REPA-001 (package structure) - already completed
- REPA-002 (upload client) - already completed

**NOT REQUIRED**:
- REPA-003 (upload hooks) - NOT required for this split (deferred to REPA-0520)

---

## Story Points Estimate

**5 SP** (Medium)

**Justification**:
- 8 components to migrate (reduced from 9)
- 2 apps to update
- 15 ACs (reduced from 16)
- No REPA-003 blocking dependency
- Low split risk (0.3)
- Lower review cycles (2)

---

## Experiment Variant

**control** (no active experiments)

This story was assigned to the control group because no active experiments were found in `.claude/config/experiments.yaml` at the time of story generation (2026-02-11).

---

## Completion Checklist

Before marking this story as complete:

- [ ] All 15 ACs verified and checked off
- [ ] Component divergence verification completed and documented in _implementation/DIVERGENCE-NOTES.md
- [ ] Package builds in isolation: `pnpm build --filter=@repo/upload`
- [ ] Package tests pass with 80%+ coverage: `pnpm test --filter=@repo/upload --coverage`
- [ ] All app tests pass: `pnpm test:all`
- [ ] All TypeScript checks pass: `pnpm check-types:all`
- [ ] All ESLint checks pass: `pnpm lint:all`
- [ ] Playwright E2E tests pass: `pnpm playwright test --grep="upload"`
- [ ] No imports from old paths remain in main-app (except SessionProvider)
- [ ] No imports from old paths remain in app-instructions-gallery (except SessionProvider)
- [ ] Old component directories deleted from apps (except SessionProvider)
- [ ] No console errors in apps after migration (manual verification)

---

**Generated**: 2026-02-11
**Split From**: REPA-005
**Split Part**: 1 of 2

---

## QA Discovery Notes (Auto-Generated)

_Added by Autonomous Elaboration on 2026-02-11_

### MVP Gaps Resolved

| # | Finding | Resolution | Notes |
|---|---------|------------|-------|
| 1 | Component Divergence Verification Not Elevated to Checklist | Add as Pre-Implementation Blocker | BLOCKING pre-implementation step. Must complete BEFORE AC-1 starts. Documented in Seed Requirements. |

### Non-Blocking Items (Logged to KB)

| # | Finding | Category | KB Entry |
|---|---------|----------|----------|
| 1 | 15-AC Story Size Justification | story-sizing | kb-gap-02 |
| 2 | Test Setup Dependency Not Explicit | test-setup | kb-gap-04 |
| 3 | Storybook documentation | documentation | kb-enh-01 |
| 4 | Other apps adoption | adoption | kb-enh-02 |
| 5 | Component playground | dev-tooling | kb-enh-04 |
| 6 | Visual regression testing | testing | kb-enh-05 |
| 7 | Component composition guide | documentation | kb-enh-06 |
| 8 | Error component catalog | documentation | kb-enh-07 |
| 9 | Accessibility audit | accessibility | kb-enh-08 |
| 10 | Performance optimization | performance | kb-enh-09 |
| 11 | Internationalization (i18n) | i18n | kb-enh-10 |
| 12 | Component analytics | observability | kb-enh-11 |
| 13 | Large file handling (>100MB) | edge-case | kb-edge-01 |
| 14 | Countdown timer edge cases | edge-case | kb-edge-02 |
| 15 | Missing suggested slug | edge-case | kb-edge-03 |
| 16 | Mobile drag-and-drop | edge-case | kb-edge-04 |

### Summary

- ACs added: 0 (component divergence verification already in Seed Requirements)
- KB entries created: 16 (non-blocking findings documented)
- MVP-critical gaps: 1 (component divergence verification - BLOCKING pre-implementation step)
- Mode: autonomous
