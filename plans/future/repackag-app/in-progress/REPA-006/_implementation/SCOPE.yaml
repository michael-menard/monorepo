schema: 1
story_id: "REPA-006"
title: "Migrate Upload Types to @repo/upload/types"
story_type: tech_debt
surfaces:
  backend: false
  frontend: true
  database: false
  infra: false

packages_modified:
  - name: "@repo/upload"
    path: "packages/core/upload"
    role: destination
  - name: "@repo/upload-types"
    path: "packages/core/upload-types"
    role: source_deprecated

apps_modified:
  - name: "main-app"
    path: "apps/web/main-app"
    files_to_update: 8
  - name: "app-instructions-gallery"
    path: "apps/web/app-instructions-gallery"
    files_to_update: 7

files_to_create:
  - packages/core/upload/src/types/session.ts
  - packages/core/upload/src/types/upload.ts
  - packages/core/upload/src/types/slug.ts
  - packages/core/upload/src/types/edit.ts
  - packages/core/upload/src/types/index.ts
  - packages/core/upload/src/types/__tests__/session.test.ts
  - packages/core/upload/src/types/__tests__/upload.test.ts
  - packages/core/upload/src/types/__tests__/slug.test.ts

files_to_delete:
  - apps/web/main-app/src/types/uploader-upload.ts
  - apps/web/main-app/src/types/uploader-session.ts
  - apps/web/main-app/src/types/__tests__/uploader-upload.test.ts

e2e_gate: exempt
e2e_exempt_reason: "Types-only migration with no runtime behavior changes, no UI changes, no API changes"

total_acs: 27
