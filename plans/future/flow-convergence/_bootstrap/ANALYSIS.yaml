schema: 2
feature_dir: "plans/future/flow-convergence"
prefix: "FLOW"
project_name: "flow-convergence"
analyzed: "2026-01-31T00:00:00Z"

overall_goal: |
  Build a decision-centric engineering workflow that optimizes for shared understanding at commitment time through reality-aware story creation, explicit phase contracts, delta-only elaboration, and convergence-focused metrics.

phases:
  - id: 1
    name: "Foundation & Reality Intake"
    description: "Reality baseline infrastructure and workflow boundary setup"
  - id: 2
    name: "Story Creation Flow"
    description: "Reality-aware story creation with gap analysis and readiness scoring"
  - id: 3
    name: "Elaboration & Convergence"
    description: "Delta-only elaboration with phase contracts and commitment gates"
  - id: 4
    name: "Metrics & Instrumentation"
    description: "Convergence-focused metrics collection and analysis"

stories:
  # Track 1: Claude Code Workflow (FLOW-1000 series)

  - id: "FLOW-1001"
    title: "Reality Intake Sub-Graph Infrastructure"
    feature: "Create workflow boundary infrastructure that runs once per workflow shift to produce baseline reality snapshots"
    phase: 1
    depends_on: []
    endpoints: []
    infrastructure:
      - "plans/baselines/ directory structure"
      - "BASELINE-REALITY-<date>.md template"
    goal: "Establish workflow boundary infrastructure that produces baseline reality snapshots to prevent rework and validate assumptions"
    risk_notes: "Requires clear definition of what constitutes a workflow shift; integration with existing workflow commands"
    sizing_warning: false

  - id: "FLOW-1002"
    title: "Reality Baseline Collection Agent"
    feature: "Create agent that scans codebase and in-progress work to capture what exists, what is in-progress, and what assumptions are invalid"
    phase: 1
    depends_on: ["FLOW-1001"]
    endpoints: []
    infrastructure:
      - ".claude/agents/reality-intake-agent.agent.md"
    goal: "Build automated reality collection agent that produces accurate baseline snapshots of codebase state and active work"
    risk_notes: "Complex codebase scanning logic; need to define scope boundaries; potential performance issues on large repos"
    sizing_warning: true

  - id: "FLOW-1003"
    title: "Story Seed Phase Integration"
    feature: "Update story creation workflow to integrate story.seed node that loads baseline reality and retrieves context before generating initial story structure"
    phase: 2
    depends_on: ["FLOW-1002"]
    endpoints: []
    infrastructure:
      - ".claude/commands/pm-story.md updates"
      - ".claude/agents/pm-story-seed-agent.agent.md"
    goal: "Ensure all new stories start with current reality baseline and relevant context to prevent assumption drift"
    risk_notes: "Tight integration with existing pm-story workflow; backward compatibility considerations"
    sizing_warning: false

  - id: "FLOW-1004"
    title: "Story Fanout Agents Implementation"
    feature: "Create specialized fanout agents (story.fanout.pm, story.fanout.ux, story.fanout.qa) that generate perspective-specific gap analyses"
    phase: 2
    depends_on: ["FLOW-1003"]
    endpoints: []
    infrastructure:
      - ".claude/agents/story-fanout-pm.agent.md"
      - ".claude/agents/story-fanout-ux.agent.md"
      - ".claude/agents/story-fanout-qa.agent.md"
    goal: "Enable multi-perspective gap analysis during story creation to surface blind spots early"
    risk_notes: "Coordination between multiple agents; potential for conflicting perspectives; unclear merge strategy"
    sizing_warning: true

  - id: "FLOW-1005"
    title: "Bounded Attacker Agent"
    feature: "Create story.attack agent that challenges assumptions and surfaces edge cases with bounded exploration to prevent endless iteration"
    phase: 2
    depends_on: ["FLOW-1004"]
    endpoints: []
    infrastructure:
      - ".claude/agents/story-attack-agent.agent.md"
    goal: "Surface critical edge cases and invalid assumptions during story creation without endless exploration"
    risk_notes: "Defining appropriate bounds; risk of overly aggressive or overly conservative challenges; HiTL decision integration"
    sizing_warning: false

  - id: "FLOW-1006"
    title: "Gap Hygiene System"
    feature: "Implement gap ranking and hygiene system that ranks gaps without deletion, maintaining full history for learning"
    phase: 2
    depends_on: ["FLOW-1005"]
    endpoints: []
    infrastructure:
      - "Gap ranking schema and storage"
    goal: "Maintain ranked gap history for system learning while preventing gap accumulation chaos"
    risk_notes: "Storage and retrieval mechanism; ranking algorithm design; integration with HiTL decision workflow"
    sizing_warning: false

  - id: "FLOW-1007"
    title: "Readiness Scoring Engine"
    feature: "Build readiness scoring system that calculates convergence score based on blockers, unknowns, and context strength"
    phase: 2
    depends_on: ["FLOW-1006"]
    endpoints: []
    infrastructure:
      - "Readiness calculation logic"
      - "Score storage and history"
    goal: "Provide quantitative readiness signal (target ≥85) to determine commitment readiness"
    risk_notes: "Algorithm design and calibration; threshold tuning; potential gaming of metrics"
    sizing_warning: false

  - id: "FLOW-1008"
    title: "Story Synthesis Agent"
    feature: "Create story.synthesize agent that produces final story artifacts after gap analysis, attacks, and readiness checks"
    phase: 2
    depends_on: ["FLOW-1007"]
    endpoints: []
    infrastructure:
      - ".claude/agents/story-synthesize-agent.agent.md"
    goal: "Generate final story artifacts that consolidate all analyses and establish commitment baseline"
    risk_notes: "Complex synthesis logic; need to preserve all intermediate artifacts; template design"
    sizing_warning: false

  - id: "FLOW-1009"
    title: "Elaboration Phase Contract Framework"
    feature: "Define and implement explicit phase contracts for elaboration that specify expected churn, cost, and ownership"
    phase: 3
    depends_on: ["FLOW-1008"]
    endpoints: []
    infrastructure:
      - "Phase contract definitions"
      - ".claude/agents/elab-*.agent.md updates"
    goal: "Establish explicit expectations for each elaboration phase to properly interpret churn metrics"
    risk_notes: "Requires buy-in on phase definitions; integration with existing elaboration workflow"
    sizing_warning: false

  - id: "FLOW-1010"
    title: "Delta-Only Elaboration System"
    feature: "Implement scoped delta elaboration that only reviews changed sections, with escape hatch for targeted full re-review"
    phase: 3
    depends_on: ["FLOW-1009"]
    endpoints: []
    infrastructure:
      - "Delta detection logic"
      - "Escape hatch triggers"
      - ".claude/agents/elab-story.agent.md updates"
    goal: "Reduce elaboration costs while maintaining quality through focused delta reviews with safety escape hatches"
    risk_notes: "Delta detection accuracy; escape hatch trigger design; risk of missing cross-cutting changes"
    sizing_warning: true

  - id: "FLOW-1011"
    title: "Commitment Boundary Gate"
    feature: "Implement commitment gate that enforces readiness ≥85, blockers=0, unknowns≤5 before allowing dev start"
    phase: 3
    depends_on: ["FLOW-1010"]
    endpoints: []
    infrastructure:
      - "Gate enforcement logic"
      - ".claude/commands/dev-implement-story.md updates"
    goal: "Prevent premature commitment to development without sufficient readiness and clarity"
    risk_notes: "Threshold calibration; override mechanisms for exceptional cases; enforcement strategy"
    sizing_warning: false

  - id: "FLOW-1012"
    title: "Time to Dev-Complete (TTDC) Metrics"
    feature: "Implement metrics collection for time from commitment to dev-complete, tracking median and variance"
    phase: 4
    depends_on: ["FLOW-1011"]
    endpoints: []
    infrastructure:
      - "Timestamp collection at commitment and completion"
      - "Metric storage and aggregation"
    goal: "Measure predictability of delivery post-commitment to validate workflow effectiveness"
    risk_notes: "Timestamp accuracy; definition of dev-complete; aggregation logic"
    sizing_warning: false

  - id: "FLOW-1013"
    title: "Post-Commitment Ambiguity Rate (PCAR) Metrics"
    feature: "Implement north star metric tracking clarification and scope-change events after development starts"
    phase: 4
    depends_on: ["FLOW-1011"]
    endpoints: []
    infrastructure:
      - "Event detection and classification"
      - "Metric storage and reporting"
    goal: "Track primary indicator of planning quality through post-commitment ambiguity events"
    risk_notes: "Event detection accuracy; classification criteria; false positive handling"
    sizing_warning: false

  - id: "FLOW-1014"
    title: "Stakeholder Turn Count Metrics"
    feature: "Track post-commitment interaction counts between PM↔Dev, UX↔Dev, QA↔Dev triggered by clarification or scope changes"
    phase: 4
    depends_on: ["FLOW-1013"]
    endpoints: []
    infrastructure:
      - "Turn counting logic"
      - "Stakeholder role identification"
    goal: "Measure post-commitment collaboration overhead as indicator of upstream planning quality"
    risk_notes: "Turn detection logic; stakeholder identification; trigger classification"
    sizing_warning: false

  - id: "FLOW-1015"
    title: "Churn Placement Index Metrics"
    feature: "Track distribution of churn across phases (discovery, elaboration, development, post-dev) to validate healthy early concentration"
    phase: 4
    depends_on: ["FLOW-1012"]
    endpoints: []
    infrastructure:
      - "Churn event classification by phase"
      - "Distribution calculation and visualization"
    goal: "Validate that churn concentrates early with sharp drop at commitment"
    risk_notes: "Churn event definition and detection; phase boundary definitions"
    sizing_warning: false

  - id: "FLOW-1016"
    title: "Known Unknown Leakage Metrics"
    feature: "Count unknowns discovered after commitment as indicator of upstream failure"
    phase: 4
    depends_on: ["FLOW-1013"]
    endpoints: []
    infrastructure:
      - "Unknown classification and tracking"
      - "Leakage detection post-commitment"
    goal: "Identify upstream planning failures through post-commitment unknown discovery"
    risk_notes: "Unknown classification criteria; detection accuracy; root cause linking"
    sizing_warning: false

  - id: "FLOW-1017"
    title: "Gap Analysis Learning Metrics"
    feature: "Implement secondary metrics for gap yield, category acceptance rates, and evidence-backed gap rates for system learning"
    phase: 4
    depends_on: ["FLOW-1006"]
    endpoints: []
    infrastructure:
      - "Gap acceptance tracking"
      - "Category and evidence classification"
    goal: "Enable system learning from gap analysis patterns without creating performance pressure"
    risk_notes: "Metric interpretation guidelines; avoiding misuse for performance evaluation"
    sizing_warning: false

  # Track 2: LangGraph Implementation (FLOW-2000 series)

  - id: "FLOW-2001"
    title: "LangGraph Reality Intake Node - Baseline Loader"
    feature: "Create load_baseline_reality node that reads most recent BASELINE-REALITY-<date>.md and provides it as graph state"
    phase: 1
    depends_on: ["FLOW-1001"]
    endpoints: []
    infrastructure:
      - "packages/backend/orchestrator/nodes/reality/load-baseline.ts"
    goal: "Provide LangGraph nodes with access to current reality baseline for context-aware processing"
    risk_notes: "File system access patterns; error handling for missing baselines; state management"
    sizing_warning: false

  - id: "FLOW-2002"
    title: "LangGraph Reality Intake Node - Context Retrieval"
    feature: "Create retrieve_context node that pulls relevant codebase context based on story scope and reality baseline"
    phase: 1
    depends_on: ["FLOW-2001"]
    endpoints: []
    infrastructure:
      - "packages/backend/orchestrator/nodes/reality/retrieve-context.ts"
    goal: "Provide targeted context retrieval for story creation that respects reality boundaries"
    risk_notes: "Context scope determination; retrieval performance; relevance ranking"
    sizing_warning: false

  - id: "FLOW-2003"
    title: "LangGraph Story Node - Seed"
    feature: "Create story.seed node that generates initial story structure from reality baseline and retrieved context"
    phase: 2
    depends_on: ["FLOW-2002"]
    endpoints: []
    infrastructure:
      - "packages/backend/orchestrator/nodes/story/seed.ts"
    goal: "Generate initial story structure that is grounded in current reality"
    risk_notes: "Template design; LLM prompt engineering; output validation"
    sizing_warning: false

  - id: "FLOW-2004"
    title: "LangGraph Story Node - Fanout PM"
    feature: "Create story.fanout.pm node that generates product management perspective gap analysis"
    phase: 2
    depends_on: ["FLOW-2003"]
    endpoints: []
    infrastructure:
      - "packages/backend/orchestrator/nodes/story/fanout-pm.ts"
    goal: "Surface product-perspective gaps and considerations during story creation"
    risk_notes: "PM perspective definition; gap classification; output schema"
    sizing_warning: false

  - id: "FLOW-2005"
    title: "LangGraph Story Node - Fanout UX"
    feature: "Create story.fanout.ux node that generates UX/design perspective gap analysis"
    phase: 2
    depends_on: ["FLOW-2003"]
    endpoints: []
    infrastructure:
      - "packages/backend/orchestrator/nodes/story/fanout-ux.ts"
    goal: "Surface UX and accessibility gaps during story creation"
    risk_notes: "UX perspective definition; a11y consideration completeness"
    sizing_warning: false

  - id: "FLOW-2006"
    title: "LangGraph Story Node - Fanout QA"
    feature: "Create story.fanout.qa node that generates QA/testing perspective gap analysis"
    phase: 2
    depends_on: ["FLOW-2003"]
    endpoints: []
    infrastructure:
      - "packages/backend/orchestrator/nodes/story/fanout-qa.ts"
    goal: "Surface testability and quality assurance gaps during story creation"
    risk_notes: "QA perspective definition; testability criteria"
    sizing_warning: false

  - id: "FLOW-2007"
    title: "LangGraph Story Node - Attack"
    feature: "Create story.attack node that challenges assumptions and surfaces edge cases with bounded exploration"
    phase: 2
    depends_on: ["FLOW-2004", "FLOW-2005", "FLOW-2006"]
    endpoints: []
    infrastructure:
      - "packages/backend/orchestrator/nodes/story/attack.ts"
    goal: "Surface critical edge cases through bounded adversarial analysis"
    risk_notes: "Bound definition and enforcement; challenge depth control; HiTL integration"
    sizing_warning: false

  - id: "FLOW-2008"
    title: "LangGraph Story Node - Gap Hygiene"
    feature: "Create gap hygiene node that ranks gaps and maintains history without deletion"
    phase: 2
    depends_on: ["FLOW-2007"]
    endpoints: []
    infrastructure:
      - "packages/backend/orchestrator/nodes/story/gap-hygiene.ts"
    goal: "Maintain clean ranked gap list with full history for learning"
    risk_notes: "Ranking algorithm; storage strategy; retrieval performance"
    sizing_warning: false

  - id: "FLOW-2009"
    title: "LangGraph Story Node - Readiness Scoring"
    feature: "Create readiness scoring node that calculates convergence score from blockers, unknowns, and context strength"
    phase: 2
    depends_on: ["FLOW-2008"]
    endpoints: []
    infrastructure:
      - "packages/backend/orchestrator/nodes/story/readiness-score.ts"
    goal: "Calculate quantitative readiness signal for commitment decision"
    risk_notes: "Algorithm design and calibration; threshold sensitivity"
    sizing_warning: false

  - id: "FLOW-2010"
    title: "LangGraph Story Node - Synthesize"
    feature: "Create story.synthesize node that produces final story artifacts from all analyses"
    phase: 2
    depends_on: ["FLOW-2009"]
    endpoints: []
    infrastructure:
      - "packages/backend/orchestrator/nodes/story/synthesize.ts"
    goal: "Generate final consolidated story artifacts with all analyses integrated"
    risk_notes: "Synthesis logic complexity; template design; artifact validation"
    sizing_warning: false

  - id: "FLOW-2011"
    title: "LangGraph Elaboration Node - Delta Detection"
    feature: "Create delta detection node that identifies changes between elaboration iterations"
    phase: 3
    depends_on: ["FLOW-2010"]
    endpoints: []
    infrastructure:
      - "packages/backend/orchestrator/nodes/elaboration/delta-detect.ts"
    goal: "Enable scoped delta reviews by accurately detecting changed sections"
    risk_notes: "Diff algorithm accuracy; semantic change detection; false negative risk"
    sizing_warning: false

  - id: "FLOW-2012"
    title: "LangGraph Elaboration Node - Delta Review"
    feature: "Create delta review node that performs focused reviews on changed sections only"
    phase: 3
    depends_on: ["FLOW-2011"]
    endpoints: []
    infrastructure:
      - "packages/backend/orchestrator/nodes/elaboration/delta-review.ts"
    goal: "Reduce elaboration costs through focused delta reviews"
    risk_notes: "Review scope determination; cross-cutting change detection"
    sizing_warning: false

  - id: "FLOW-2013"
    title: "LangGraph Elaboration Node - Escape Hatch"
    feature: "Create escape hatch node that triggers targeted full re-review when delta review is insufficient"
    phase: 3
    depends_on: ["FLOW-2012"]
    endpoints: []
    infrastructure:
      - "packages/backend/orchestrator/nodes/elaboration/escape-hatch.ts"
    goal: "Provide safety mechanism for cases where delta review is insufficient"
    risk_notes: "Trigger condition design; targeted review scope; stakeholder routing"
    sizing_warning: false

  - id: "FLOW-2014"
    title: "LangGraph Gate Node - Commitment Validation"
    feature: "Create commitment gate node that validates readiness ≥85, blockers=0, unknowns≤5 before allowing progression"
    phase: 3
    depends_on: ["FLOW-2009"]
    endpoints: []
    infrastructure:
      - "packages/backend/orchestrator/nodes/gates/commitment-gate.ts"
    goal: "Enforce commitment readiness requirements before development phase"
    risk_notes: "Gate bypass mechanisms; threshold enforcement; validation accuracy"
    sizing_warning: false

  - id: "FLOW-2015"
    title: "LangGraph Metrics Node - Event Collection"
    feature: "Create metrics collection node that captures events (commitments, completions, clarifications, scope changes)"
    phase: 4
    depends_on: ["FLOW-2014"]
    endpoints: []
    infrastructure:
      - "packages/backend/orchestrator/nodes/metrics/collect-events.ts"
    goal: "Capture all events necessary for convergence metrics calculation"
    risk_notes: "Event classification accuracy; timing precision; storage strategy"
    sizing_warning: false

  - id: "FLOW-2016"
    title: "LangGraph Metrics Node - TTDC Calculator"
    feature: "Create TTDC calculation node that computes time from commitment to dev-complete with median and variance"
    phase: 4
    depends_on: ["FLOW-2015"]
    endpoints: []
    infrastructure:
      - "packages/backend/orchestrator/nodes/metrics/calc-ttdc.ts"
    goal: "Calculate time-to-dev-complete metrics for predictability assessment"
    risk_notes: "Calculation accuracy; aggregation logic; outlier handling"
    sizing_warning: false

  - id: "FLOW-2017"
    title: "LangGraph Metrics Node - PCAR Calculator"
    feature: "Create PCAR calculation node that counts post-commitment ambiguity events"
    phase: 4
    depends_on: ["FLOW-2015"]
    endpoints: []
    infrastructure:
      - "packages/backend/orchestrator/nodes/metrics/calc-pcar.ts"
    goal: "Calculate north star metric for planning quality"
    risk_notes: "Event detection accuracy; false positive handling"
    sizing_warning: false

  - id: "FLOW-2018"
    title: "LangGraph Metrics Node - Turn Counter"
    feature: "Create stakeholder turn counting node for post-commitment PM/UX/QA interactions"
    phase: 4
    depends_on: ["FLOW-2015"]
    endpoints: []
    infrastructure:
      - "packages/backend/orchestrator/nodes/metrics/count-turns.ts"
    goal: "Track collaboration overhead as planning quality indicator"
    risk_notes: "Turn detection logic; stakeholder identification"
    sizing_warning: false

  - id: "FLOW-2019"
    title: "LangGraph Metrics Node - Churn Distribution"
    feature: "Create churn placement index node that calculates churn distribution across phases"
    phase: 4
    depends_on: ["FLOW-2015"]
    endpoints: []
    infrastructure:
      - "packages/backend/orchestrator/nodes/metrics/calc-churn.ts"
    goal: "Validate healthy churn distribution pattern"
    risk_notes: "Phase classification; distribution calculation"
    sizing_warning: false

  - id: "FLOW-2020"
    title: "LangGraph Metrics Node - Unknown Leakage Tracker"
    feature: "Create unknown leakage detection node that identifies post-commitment unknowns"
    phase: 4
    depends_on: ["FLOW-2015"]
    endpoints: []
    infrastructure:
      - "packages/backend/orchestrator/nodes/metrics/track-leakage.ts"
    goal: "Detect upstream planning failures through unknown leakage"
    risk_notes: "Unknown classification; detection accuracy"
    sizing_warning: false

  - id: "FLOW-2021"
    title: "LangGraph Metrics Node - Gap Analytics"
    feature: "Create gap analysis metrics node for yield, acceptance rates, and evidence tracking"
    phase: 4
    depends_on: ["FLOW-2008"]
    endpoints: []
    infrastructure:
      - "packages/backend/orchestrator/nodes/metrics/gap-analytics.ts"
    goal: "Enable system learning from gap analysis patterns"
    risk_notes: "Metric interpretation; avoiding performance pressure misuse"
    sizing_warning: false

  - id: "FLOW-2022"
    title: "LangGraph Graph - Story Creation Flow"
    feature: "Compose complete story creation graph from reality intake through synthesis nodes"
    phase: 2
    depends_on: ["FLOW-2010"]
    endpoints: []
    infrastructure:
      - "packages/backend/orchestrator/graphs/story-creation.ts"
    goal: "Provide complete executable story creation workflow graph"
    risk_notes: "Graph composition complexity; state management; error handling; branching logic"
    sizing_warning: true

  - id: "FLOW-2023"
    title: "LangGraph Graph - Elaboration Flow"
    feature: "Compose complete elaboration graph with delta detection, review, and escape hatch"
    phase: 3
    depends_on: ["FLOW-2013"]
    endpoints: []
    infrastructure:
      - "packages/backend/orchestrator/graphs/elaboration.ts"
    goal: "Provide complete executable elaboration workflow graph"
    risk_notes: "Graph composition complexity; conditional routing; state management"
    sizing_warning: true

  - id: "FLOW-2024"
    title: "LangGraph Graph - Metrics Collection Flow"
    feature: "Compose complete metrics collection and analysis graph"
    phase: 4
    depends_on: ["FLOW-2021"]
    endpoints: []
    infrastructure:
      - "packages/backend/orchestrator/graphs/metrics.ts"
    goal: "Provide complete executable metrics workflow graph"
    risk_notes: "Graph composition; parallel metric calculation; aggregation"
    sizing_warning: false

dependencies:
  graph:
    "FLOW-1001": []
    "FLOW-1002": ["FLOW-1001"]
    "FLOW-1003": ["FLOW-1002"]
    "FLOW-1004": ["FLOW-1003"]
    "FLOW-1005": ["FLOW-1004"]
    "FLOW-1006": ["FLOW-1005"]
    "FLOW-1007": ["FLOW-1006"]
    "FLOW-1008": ["FLOW-1007"]
    "FLOW-1009": ["FLOW-1008"]
    "FLOW-1010": ["FLOW-1009"]
    "FLOW-1011": ["FLOW-1010"]
    "FLOW-1012": ["FLOW-1011"]
    "FLOW-1013": ["FLOW-1011"]
    "FLOW-1014": ["FLOW-1013"]
    "FLOW-1015": ["FLOW-1012"]
    "FLOW-1016": ["FLOW-1013"]
    "FLOW-1017": ["FLOW-1006"]
    "FLOW-2001": ["FLOW-1001"]
    "FLOW-2002": ["FLOW-2001"]
    "FLOW-2003": ["FLOW-2002"]
    "FLOW-2004": ["FLOW-2003"]
    "FLOW-2005": ["FLOW-2003"]
    "FLOW-2006": ["FLOW-2003"]
    "FLOW-2007": ["FLOW-2004", "FLOW-2005", "FLOW-2006"]
    "FLOW-2008": ["FLOW-2007"]
    "FLOW-2009": ["FLOW-2008"]
    "FLOW-2010": ["FLOW-2009"]
    "FLOW-2011": ["FLOW-2010"]
    "FLOW-2012": ["FLOW-2011"]
    "FLOW-2013": ["FLOW-2012"]
    "FLOW-2014": ["FLOW-2009"]
    "FLOW-2015": ["FLOW-2014"]
    "FLOW-2016": ["FLOW-2015"]
    "FLOW-2017": ["FLOW-2015"]
    "FLOW-2018": ["FLOW-2015"]
    "FLOW-2019": ["FLOW-2015"]
    "FLOW-2020": ["FLOW-2015"]
    "FLOW-2021": ["FLOW-2008"]
    "FLOW-2022": ["FLOW-2010"]
    "FLOW-2023": ["FLOW-2013"]
    "FLOW-2024": ["FLOW-2021"]

  critical_path:
    - "FLOW-1001"
    - "FLOW-1002"
    - "FLOW-1003"
    - "FLOW-1004"
    - "FLOW-1005"
    - "FLOW-1006"
    - "FLOW-1007"
    - "FLOW-1008"
    - "FLOW-1009"
    - "FLOW-1010"
    - "FLOW-1011"
    - "FLOW-1013"
    - "FLOW-1016"

  critical_path_length: 13

parallelization:
  max_parallel: 8
  groups:
    - stories: ["FLOW-1001", "FLOW-2001"]
      after: null
    - stories: ["FLOW-1002", "FLOW-2002"]
      after: "group_1"
    - stories: ["FLOW-1003", "FLOW-2003"]
      after: "group_2"
    - stories: ["FLOW-1004", "FLOW-2004", "FLOW-2005", "FLOW-2006"]
      after: "group_3"
    - stories: ["FLOW-1005", "FLOW-2007"]
      after: "group_4"
    - stories: ["FLOW-1006", "FLOW-2008"]
      after: "group_5"
    - stories: ["FLOW-1007", "FLOW-2009"]
      after: "group_6"
    - stories: ["FLOW-1008", "FLOW-2010"]
      after: "group_7"
    - stories: ["FLOW-1009", "FLOW-2011"]
      after: "group_8"
    - stories: ["FLOW-1010", "FLOW-2012"]
      after: "group_9"
    - stories: ["FLOW-1011", "FLOW-2013", "FLOW-2014"]
      after: "group_10"
    - stories: ["FLOW-1012", "FLOW-1013", "FLOW-2015"]
      after: "group_11"
    - stories: ["FLOW-1014", "FLOW-1015", "FLOW-1016", "FLOW-2016", "FLOW-2017", "FLOW-2018", "FLOW-2019", "FLOW-2020"]
      after: "group_12"
    - stories: ["FLOW-1017", "FLOW-2021"]
      after: "group_6"
    - stories: ["FLOW-2022", "FLOW-2023"]
      after: "group_11"
    - stories: ["FLOW-2024"]
      after: "group_14"

risks:
  - id: "RISK-001"
    description: "Reality baseline accuracy depends on codebase scanning comprehensiveness; incomplete scans may miss critical existing work"
    affected_stories: ["FLOW-1002", "FLOW-2002"]
    severity: high

  - id: "RISK-002"
    description: "Delta-only elaboration may miss cross-cutting changes; escape hatch trigger design is critical"
    affected_stories: ["FLOW-1010", "FLOW-2011", "FLOW-2012", "FLOW-2013"]
    severity: high

  - id: "RISK-003"
    description: "Metrics gaming risk if thresholds are enforced without proper interpretation context and HiTL oversight"
    affected_stories: ["FLOW-1007", "FLOW-1011", "FLOW-2009", "FLOW-2014"]
    severity: medium

  - id: "RISK-004"
    description: "LangGraph state management complexity increases with multi-perspective fanout and synthesis"
    affected_stories: ["FLOW-2004", "FLOW-2005", "FLOW-2006", "FLOW-2007", "FLOW-2010", "FLOW-2022"]
    severity: medium

  - id: "RISK-005"
    description: "Event detection accuracy for metrics depends on clear event classification criteria and consistent application"
    affected_stories: ["FLOW-2015", "FLOW-2017", "FLOW-2018", "FLOW-2020"]
    severity: medium

  - id: "RISK-006"
    description: "Integration complexity between Track 1 (Claude Code) and Track 2 (LangGraph) implementations"
    affected_stories: ["FLOW-1003", "FLOW-2003", "FLOW-1008", "FLOW-2010", "FLOW-1010", "FLOW-2013"]
    severity: high

  - id: "RISK-007"
    description: "Readiness scoring algorithm calibration requires real-world data; initial thresholds may need tuning"
    affected_stories: ["FLOW-1007", "FLOW-2009"]
    severity: low

  - id: "RISK-008"
    description: "Attacker agent bounds must prevent endless iteration while ensuring sufficient challenge depth"
    affected_stories: ["FLOW-1005", "FLOW-2007"]
    severity: medium

metrics:
  total_stories: 41
  phases: 4
  max_parallel: 8
  critical_path_length: 13
  stories_with_sizing_warnings: 5
