# KB Write Queue - SETS-MVP-0340
# Generated by elab-autonomous-decider
# Status: PENDING - KB writes deferred for batch processing

story_id: SETS-MVP-0340
generated_at: "2026-02-09T12:30:00-07:00"
total_items: 25
status: pending

items:
  - id: 1
    category: ux-polish
    title: "Decimal rounding on blur"
    description: "User enters '99.999' → could auto-round to '99.99' instead of showing error"
    impact: Low
    effort: Low
    tags: [ux-polish, enhancement, form-validation]

  - id: 2
    category: edge-case
    title: "Negative sign prevention at keystroke level"
    description: "User can type '-' in price field, HTML5 min='0' + Zod validation catch it but could prevent at input level"
    impact: Low
    effort: Low
    tags: [edge-case, form-validation, input-handling]

  - id: 3
    category: future-work
    title: "Progressive validation configuration explicit in ACs"
    description: "DEV-FEASIBILITY recommends reValidateMode: 'onChange' but leaves as recommendation, not explicit AC"
    impact: Low
    effort: Low
    tags: [future-work, form-validation, configuration]

  - id: 4
    category: ux-polish
    title: "Success state indicator"
    description: "When user corrects invalid input, show green checkmark for positive reinforcement"
    impact: Low
    effort: Medium
    tags: [ux-polish, enhancement, visual-feedback]

  - id: 5
    category: ux-polish
    title: "Layout shift prevention"
    description: "Error messages cause content jump without min-height container, UIUX-NOTES recommends min-h-[20px]"
    impact: Medium
    effort: Low
    tags: [ux-polish, layout, accessibility]
    priority: short-term

  - id: 6
    category: ux-polish
    title: "Error icon for visual reinforcement"
    description: "UIUX-NOTES suggests AlertCircle icon next to error text for users with cognitive disabilities"
    impact: Low
    effort: Low
    tags: [ux-polish, accessibility, visual-feedback]

  - id: 7
    category: edge-case
    title: "Scientific notation handling"
    description: "AC18 boundary tests mention 1e6 rejection but schema approach not specified (Zod handles automatically)"
    impact: Low
    effort: Low
    tags: [edge-case, form-validation, number-parsing]

  - id: 8
    category: edge-case
    title: "Browser autofill compatibility"
    description: "Risk section mentions 'handle gracefully' but no explicit test case or AC"
    impact: Low
    effort: Low
    tags: [edge-case, browser-compatibility, testing]

  - id: 9
    category: reusability
    title: "Decimal precision in shared schema"
    description: "createEnhancedSchemas.price() validates range but not decimal places, could enhance for all apps"
    impact: Low
    effort: Medium
    tags: [reusability, shared-library, form-validation]
    priority: short-term

  - id: 10
    category: future-work
    title: "Async validation support"
    description: "Future backend price validation would need async Zod refinement (not in current scope)"
    impact: Low
    effort: High
    tags: [future-work, backend-integration, validation]

  - id: 11
    category: integration
    title: "Currency symbol localization"
    description: "Hardcoded '$' prefix, future internationalization needs dynamic currency symbol"
    impact: Medium
    effort: High
    tags: [integration, i18n, internationalization]
    priority: long-term

  - id: 12
    category: future-work
    title: "Touch/gesture accessibility"
    description: "Story excludes touch accessibility, future story for swipe gestures and mobile interactions"
    impact: Medium
    effort: Medium
    tags: [future-work, accessibility, mobile]

  - id: 13
    category: ux-polish
    title: "Custom number formatting"
    description: "Thousands separators for large prices (e.g., '1,000.00'), explicitly excluded from scope"
    impact: Medium
    effort: Medium
    tags: [ux-polish, number-formatting, enhancement]

  - id: 14
    category: future-work
    title: "Advanced validation rules"
    description: "Price vs retail comparison, tax percentage validation, business rule validation layer"
    impact: Medium
    effort: High
    tags: [future-work, business-logic, validation]
    priority: long-term

  - id: 15
    category: ux-polish
    title: "Form field masking"
    description: "Auto-inserting decimal points (e.g., '9999' → '99.99'), explicitly excluded from scope"
    impact: Low
    effort: Medium
    tags: [ux-polish, input-masking, enhancement]

  - id: 16
    category: enhancement
    title: "Undo/redo for form changes"
    description: "Power user feature with Ctrl+Z support, requires form history tracking"
    impact: Low
    effort: High
    tags: [enhancement, power-user, form-history]

  - id: 17
    category: ux-polish
    title: "Inline help tooltips"
    description: "Add (?) icon next to labels with explanatory text for field requirements"
    impact: Medium
    effort: Low
    tags: [ux-polish, help-text, discoverability]

  - id: 18
    category: ux-polish
    title: "Real-time price calculation"
    description: "Show 'Total: $X.XX' (price + tax + shipping) as user types, requires controlled inputs"
    impact: Medium
    effort: Medium
    tags: [ux-polish, calculated-fields, enhancement]

  - id: 19
    category: enhancement
    title: "Keyboard shortcuts for field navigation"
    description: "Alt+P → Price field, etc. Power user feature but potential conflicts with browser shortcuts"
    impact: Low
    effort: Medium
    tags: [enhancement, keyboard-shortcuts, power-user]

  - id: 20
    category: integration
    title: "Voice input accessibility"
    description: "Web Speech API support for voice-controlled form filling, beyond WCAG AA"
    impact: Medium
    effort: High
    tags: [integration, accessibility, voice-input, cutting-edge]

  - id: 21
    category: integration
    title: "Smart defaults based on item history"
    description: "Pre-fill tax/shipping from previous purchases, requires backend analytics integration"
    impact: Medium
    effort: High
    tags: [integration, personalization, analytics]

  - id: 22
    category: observability
    title: "Form analytics"
    description: "Track which fields users struggle with (high error rates) for data-driven improvements"
    impact: Medium
    effort: Medium
    tags: [observability, analytics, ux-research]
    priority: medium-term

  - id: 23
    category: observability
    title: "A/B test progressive validation timing"
    description: "Test mode: 'onBlur' vs 'onChange' vs 'onSubmit' for optimal validation timing"
    impact: Low
    effort: Medium
    tags: [observability, ab-testing, experimentation]

  - id: 24
    category: reusability
    title: "CI/CD accessibility automation"
    description: "Run axe-core tests in pipeline on every PR to prevent accessibility regressions"
    impact: High
    effort: Medium
    tags: [reusability, ci-cd, accessibility, automation]
    priority: medium-term

  - id: 25
    category: reusability
    title: "Shared form validation components"
    description: "Extract PriceInput, DateInput into @repo/app-component-library for DRY across forms"
    impact: High
    effort: High
    tags: [reusability, shared-library, component-extraction]
    priority: medium-term

priority_recommendations:
  short_term:
    - id: 5
      title: "Layout shift prevention"
      rationale: "Easy win, significantly improves UX with minimal effort"
    - id: 9
      title: "Decimal precision in shared schema"
      rationale: "Benefits all apps using price validation, reusable enhancement"

  medium_term:
    - id: 24
      title: "CI/CD accessibility automation"
      rationale: "Prevent regressions at scale, high ROI for long-term maintenance"
    - id: 25
      title: "Shared validated components"
      rationale: "Reduce duplication across forms after validating pattern in GotItModal"
    - id: 22
      title: "Form analytics"
      rationale: "Data-driven UX improvements based on user behavior"

  long_term:
    - id: 11
      title: "Currency localization"
      rationale: "Required for international expansion"
    - id: 14
      title: "Advanced validation rules"
      rationale: "Business logic validation layer for complex rules"

notes: |
  All 25 items are non-blocking enhancements extracted from FUTURE-OPPORTUNITIES.md.
  Many are explicitly marked as Non-goals in the story - intentional scope control.

  KB writes are deferred pending KB writer availability.
  Items can be batch-processed by kb-writer agent or manually added to knowledge base.

  Each item includes category, impact, effort, and tags for future retrieval and prioritization.
