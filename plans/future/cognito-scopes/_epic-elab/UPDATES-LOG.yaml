---
feature_dir: "/Users/michaelmenard/Development/Monorepo/plans/future/cognito-scopes"
prefix: "COGN"
updated: "2026-02-04T19:00:00Z"

summary:
  decisions_applied: 15
  decisions_rejected: 0
  decisions_deferred: 0
  new_stories_added: 2
  risk_notes_added: 11

stories_index:
  stories_added: 2
    - id: COGN-NEW-001
      title: "Shared middleware framework foundation"
      phase: "0 - Prerequisite"
      priority: "P0"
      source: "Epic Elaboration - Engineering MVP Blockers (COGN-B-003)"
      rationale: "Required before COGN-005, COGN-006, COGN-007, COGN-008 to ensure consistent patterns, error handling, and maintainability"

    - id: COGN-NEW-002
      title: "Database connection pooling setup"
      phase: "0 - Prerequisite"
      priority: "P0"
      source: "Epic Elaboration - Engineering MVP Blockers (COGN-B-001, COGN-B-008)"
      rationale: "Blocks COGN-004 and COGN-007 implementation; critical for reliability at scale"

  risk_notes_added: 11
    - story: COGN-001
      blocker: COGN-B-009
      issue: "Database migration strategy for COGN-001 lacks zero-downtime approach"

    - story: COGN-004
      blockers:
        - COGN-B-001
        - COGN-B-008
      issue: "Cold start SLA undefined, connection pooling strategy undefined"
      blocked_by: NEW-002

    - story: COGN-005
      blockers:
        - COGN-B-004
        - COGN-B-011
      issue: "JWT refresh token lifecycle undefined, JWKS verification unclear"
      blocked_by: NEW-001

    - story: COGN-006
      blocker: COGN-B-012
      issue: "Admin bypass logic must be strictly enforced"
      blocked_by: NEW-001

    - story: COGN-007
      blockers:
        - COGN-B-002
        - COGN-B-006
      issue: "Race condition handling on concurrent operations undefined"
      blocked_by:
        - NEW-001
        - NEW-002

    - story: COGN-008
      blocker: NEW-001
      issue: "Requires shared middleware framework"
      blocked_by: NEW-001

    - story: COGN-019
      blocker: COGN-B-013
      issue: "Age verification relies on self-reported birthdate - compliance risk"

    - story: COGN-022
      blocker: COGN-B-010
      issue: "CloudWatch monitoring strategy not detailed"

    - story: COGN-025
      blockers:
        - COGN-B-005
        - COGN-B-007
      issue: "Test suite lacks edge case specifications"

roadmap:
  dependencies_added: 8
    - COGN-NEW-001 must complete before COGN-005, COGN-006, COGN-007, COGN-008
    - COGN-NEW-002 must complete before COGN-004, COGN-007

  critical_path_changed: true
  old_critical_path: "COGN-001 → COGN-004 → COGN-005 → COGN-006 → COGN-007 → COGN-008 → COGN-010 → COGN-015 → COGN-016 → COGN-025 → COGN-027 (11 stories)"
  new_critical_path: "COGN-NEW-002 → COGN-001 → COGN-004 → COGN-005 → COGN-006 → COGN-007 → COGN-008 → COGN-010 → COGN-025 → COGN-027 (with NEW-001 parallel prerequisite)"
  new_critical_path_length: 10
  prerequisite_overhead: 2

files_modified:
  - path: "/Users/michaelmenard/Development/Monorepo/plans/future/cognito-scopes/stories.index.md"
    changes: "Added 2 new stories (COGN-NEW-001, COGN-NEW-002), added MVP blocker risk notes to 11 existing stories"
    lines_changed: 120

  - path: "/Users/michaelmenard/Development/Monorepo/plans/future/cognito-scopes/roadmap.md"
    changes: "Updated dependency graph, Gantt chart, critical path, parallel opportunities, quick reference"
    lines_changed: 85

follow_ups_created: false

verdict: READY
next_steps:
  - "Begin COGN-NEW-001: Shared middleware framework foundation"
  - "Begin COGN-NEW-002: Database connection pooling setup"
  - "Proceed with Phase 1 foundation stories after prerequisites complete"
  - "All MVP blockers documented and actionable"
