# INST-1111: Fix Missing Playwright BDD Step Definitions

## Summary

The Playwright BDD test suite has 245 missing step definitions across multiple feature files, preventing `bddgen` from generating test specs. This blocks E2E test execution for all features including INST-1105.

## Problem

Running `pnpm bdd:gen` fails with:

```
Missing step definitions: 245
```

The missing steps are primarily in:
- `features/inspiration/inspiration-keyboard.feature`
- Other inspiration and gallery features

## Acceptance Criteria

### AC1: Audit Missing Steps
- [ ] Run `bddgen` and capture full list of missing step definitions
- [ ] Categorize missing steps by feature file
- [ ] Identify which steps can be shared vs feature-specific

### AC2: Fix Inspiration Keyboard Steps
- [ ] Implement missing steps for `inspiration-keyboard.feature`
- [ ] Steps include: gallery loaded, modal open, multi-select mode, bulk actions, tab navigation

### AC3: Fix Other Inspiration Steps
- [ ] Implement missing steps for other inspiration features
- [ ] Ensure no duplicate step definitions

### AC4: Fix Gallery Steps
- [ ] Implement missing steps for gallery features
- [ ] Reuse existing patterns where possible

### AC5: Verify No Duplicates
- [ ] Run `bddgen` successfully with no duplicate step errors
- [ ] Run `bddgen` successfully with no missing step errors

### AC6: E2E Tests Run
- [ ] `pnpm bdd:gen` completes successfully
- [ ] `pnpm test:bdd` runs without errors
- [ ] INST-1105 E2E tests can execute

## Technical Notes

### Missing Step Examples

```typescript
Given('the inspiration gallery has loaded', async ({}) => {
  // Step: And the inspiration gallery has loaded
  // From: features/inspiration/inspiration-keyboard.feature:10:5
});

Given('a modal is open', async ({}) => {
  // Step: Given a modal is open
  // From: features/inspiration/inspiration-keyboard.feature:29:5
});

Given('I am in multi-select mode', async ({}) => {
  // Step: Given I am in multi-select mode
  // From: features/inspiration/inspiration-keyboard.feature:35:5
});
```

### Step Definition Location

All step definitions should be in:
```
apps/web/playwright/steps/
```

### Shared Steps Pattern

Use a shared steps file for common actions:
```
apps/web/playwright/steps/shared.steps.ts
```

## Dependencies

- **Blocks**: INST-1105 (E2E gate)

## Effort Estimate

- **Size**: Medium (2-3 days)
- **Complexity**: Low (implementing step definitions)
- **Risk**: Low

## Out of Scope

- Adding new E2E test scenarios
- Modifying existing feature files
- Changing playwright configuration

## Definition of Done

1. `pnpm bdd:gen` completes with 0 errors
2. No duplicate step definition errors
3. No missing step definition errors
4. INST-1105 E2E tests can be executed
5. All existing E2E tests pass
