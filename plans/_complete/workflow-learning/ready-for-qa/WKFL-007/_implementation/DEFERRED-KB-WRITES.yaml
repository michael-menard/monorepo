# Deferred KB Writes - WKFL-007
# Generated by elab-autonomous-decider
# These findings should be written to KB for future reference

generated_at: "2026-02-07T17:00:00Z"
story_id: "WKFL-007"
total_entries: 12

kb_writes:
  - entry_id: 1
    entry_type: finding
    source_stage: elab
    story_id: "WKFL-007"
    category: "future-work"
    title: "WKFL-007: Self-monitoring for prediction accuracy degradation"
    content: |
      - **Finding**: No guidance on what to do when predictions consistently wrong
      - **Impact**: Medium | **Effort**: Medium
      - **Recommendation**: Add self-monitoring - if accuracy < 50% for 5+ stories, flag for human review
      - **Context**: Post-MVP enhancement for WKFL-007 Story Risk Predictor
    tags:
      - "wkfl-007"
      - "non-blocking"
      - "edge-case"
      - "observability"
      - "self-monitoring"
      - "prediction-quality"

  - entry_id: 2
    entry_type: finding
    source_stage: elab
    story_id: "WKFL-007"
    category: "edge-case"
    title: "WKFL-007: KB query timeout formalization"
    content: |
      - **Finding**: No upper bound on similar_stories query time
      - **Impact**: Medium | **Effort**: Low
      - **Recommendation**: Add explicit timeout to KB queries (10 seconds mentioned in feasibility but not formalized in AC-3)
      - **Context**: Edge case handling for KB MCP Server queries in WKFL-007
    tags:
      - "wkfl-007"
      - "non-blocking"
      - "edge-case"
      - "performance"
      - "kb-query"
      - "timeout"

  - entry_id: 3
    entry_type: finding
    source_stage: elab
    story_id: "WKFL-007"
    category: "ux-polish"
    title: "WKFL-007: Prediction accuracy trend visualization"
    content: |
      - **Finding**: No visualization of prediction accuracy trends
      - **Impact**: Medium | **Effort**: High
      - **Recommendation**: Add monthly dashboard showing accuracy trends over time (requires WKFL-010 or separate tooling)
      - **Context**: UX enhancement for WKFL-007 - helps PMs see prediction quality improving over time
    tags:
      - "wkfl-007"
      - "non-blocking"
      - "ux-polish"
      - "visualization"
      - "dashboard"
      - "observability"
      - "wkfl-010"

  - entry_id: 4
    entry_type: finding
    source_stage: elab
    story_id: "WKFL-007"
    category: "enhancement"
    title: "WKFL-007: Re-prediction on story scope changes"
    content: |
      - **Finding**: No prediction refresh when story scope changes mid-elaboration
      - **Impact**: Medium | **Effort**: Medium
      - **Recommendation**: Add re-prediction trigger if story split or scope significantly changes during elaboration
      - **Context**: Medium impact enhancement - catches mid-flight story issues. Natural follow-up story.
    tags:
      - "wkfl-007"
      - "non-blocking"
      - "enhancement"
      - "scope-change"
      - "re-prediction"
      - "future-work"

  - entry_id: 5
    entry_type: finding
    source_stage: elab
    story_id: "WKFL-007"
    category: "enhancement"
    title: "WKFL-007: Prediction confidence intervals"
    content: |
      - **Finding**: Token estimate only uses median, ignores variance
      - **Impact**: Medium | **Effort**: Medium
      - **Recommendation**: Include confidence interval in prediction (e.g., "150K-200K tokens, 80% confidence")
      - **Context**: Enhancement for prediction quality - helps PMs understand prediction uncertainty
    tags:
      - "wkfl-007"
      - "non-blocking"
      - "enhancement"
      - "confidence-interval"
      - "prediction-quality"
      - "statistics"

  - entry_id: 6
    entry_type: finding
    source_stage: elab
    story_id: "WKFL-007"
    category: "future-work"
    title: "WKFL-007: Epic-specific prediction models"
    content: |
      - **Finding**: No differentiation between epic types
      - **Impact**: Medium | **Effort**: High
      - **Recommendation**: Future - epic-specific prediction models (auth stories vs CRUD vs UI-only). Requires sufficient data per epic first.
      - **Context**: High-effort future enhancement - wait until sufficient historical data per epic type
    tags:
      - "wkfl-007"
      - "non-blocking"
      - "future-work"
      - "epic-models"
      - "prediction-quality"
      - "high-effort"

  - entry_id: 7
    entry_type: finding
    source_stage: elab
    story_id: "WKFL-007"
    category: "integration"
    title: "WKFL-007: Auto-suggest story splitting for high-risk stories"
    content: |
      - **Finding**: Predictions don't influence PM decisions automatically
      - **Impact**: High | **Effort**: High
      - **Recommendation**: Auto-suggest story splitting for high-risk stories (split_risk > 0.8) in PM pipeline. Potential WKFL-011.
      - **Context**: High impact enhancement - moves from advisory to actionable predictions. Requires PM pipeline integration.
    tags:
      - "wkfl-007"
      - "non-blocking"
      - "integration"
      - "auto-suggest"
      - "pm-pipeline"
      - "split-detection"
      - "wkfl-011"
      - "high-impact"

  - entry_id: 8
    entry_type: finding
    source_stage: elab
    story_id: "WKFL-007"
    category: "ux-polish"
    title: "WKFL-007: PM feedback loop on prediction usefulness"
    content: |
      - **Finding**: No feedback loop from PM on prediction usefulness
      - **Impact**: Medium | **Effort**: Medium
      - **Recommendation**: Add /prediction-feedback command to capture "was this prediction helpful?" from PMs
      - **Context**: UX enhancement - qualitative feedback complements quantitative accuracy tracking
    tags:
      - "wkfl-007"
      - "non-blocking"
      - "ux-polish"
      - "feedback-loop"
      - "prediction-quality"
      - "pm-experience"

  - entry_id: 9
    entry_type: finding
    source_stage: elab
    story_id: "WKFL-007"
    category: "enhancement"
    title: "WKFL-007: Semantic pattern matching using KB embeddings"
    content: |
      - **Finding**: Pattern matching is keyword-based, not semantic
      - **Impact**: Medium | **Effort**: High
      - **Recommendation**: Use KB embedding similarity for scope matching instead of keyword search
      - **Context**: Enhancement for prediction quality - semantic matching better than keyword matching
    tags:
      - "wkfl-007"
      - "non-blocking"
      - "enhancement"
      - "semantic-search"
      - "kb-embeddings"
      - "prediction-quality"
      - "high-effort"

  - entry_id: 10
    entry_type: finding
    source_stage: elab
    story_id: "WKFL-007"
    category: "future-work"
    title: "WKFL-007: Specific risk type predictions"
    content: |
      - **Finding**: No prediction for specific risk types
      - **Impact**: Medium | **Effort**: High
      - **Recommendation**: Predict specific risks (auth failure, DB migration, lint issues, etc.) not just split/cycles/tokens
      - **Context**: Future enhancement - more granular risk predictions help PMs prepare for specific challenges
    tags:
      - "wkfl-007"
      - "non-blocking"
      - "future-work"
      - "risk-types"
      - "prediction-scope"
      - "high-effort"

  - entry_id: 11
    entry_type: finding
    source_stage: elab
    story_id: "WKFL-007"
    category: "observability"
    title: "WKFL-007: Monthly accuracy report aggregation"
    content: |
      - **Finding**: Accuracy tracking only stores to KB, no aggregation
      - **Impact**: Medium | **Effort**: Medium
      - **Recommendation**: Add monthly accuracy report generation (similar to WKFL-006 pattern mining)
      - **Context**: Medium impact - monthly accuracy reports validate prediction value and identify drift
    tags:
      - "wkfl-007"
      - "non-blocking"
      - "observability"
      - "aggregation"
      - "reporting"
      - "prediction-quality"
      - "monthly-cadence"

  - entry_id: 12
    entry_type: finding
    source_stage: elab
    story_id: "WKFL-007"
    category: "integration"
    title: "WKFL-007: A/B testing of prediction algorithms"
    content: |
      - **Finding**: No A/B testing of prediction algorithms
      - **Impact**: High | **Effort**: High
      - **Recommendation**: Use WKFL-008 to test algorithm variations (e.g., weighted vs median for tokens)
      - **Context**: High impact enhancement - systematic testing of algorithm improvements via WKFL-008 framework
    tags:
      - "wkfl-007"
      - "non-blocking"
      - "integration"
      - "ab-testing"
      - "wkfl-008"
      - "algorithm-tuning"
      - "high-impact"

  - entry_id: 13
    entry_type: finding
    source_stage: elab
    story_id: "WKFL-007"
    category: "enhancement"
    title: "WKFL-007: Data-driven fallback values"
    content: |
      - **Finding**: Fallback values hardcoded, not data-driven
      - **Impact**: Medium | **Effort**: Medium
      - **Recommendation**: Calculate global defaults from historical OUTCOME.yaml data, not hardcoded 150K
      - **Context**: Medium effort improvement - use actual historical averages instead of arbitrary defaults
    tags:
      - "wkfl-007"
      - "non-blocking"
      - "enhancement"
      - "data-driven"
      - "fallback-values"
      - "prediction-quality"

notes: |
  These KB entries should be created by spawning kb-writer agent or batch-writing via KB MCP Server.

  High-impact opportunities for follow-up stories:
  - Entry #7: Auto-suggest splitting (potential WKFL-011)
  - Entry #12: A/B testing integration with WKFL-008

  Quick wins for post-MVP:
  - Entry #2: KB query timeout formalization
  - Entry #13: Data-driven fallback values

  All entries are non-blocking and do not affect WKFL-007 implementation.
