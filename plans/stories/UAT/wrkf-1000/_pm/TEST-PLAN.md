# TEST-PLAN: wrkf-1000 — Package Scaffolding

## Summary

This test plan covers the scaffolding of `packages/orchestrator` as a TypeScript workspace package with LangGraphJS and Zod dependencies.

---

## Happy Path Tests

### HP-1: Package Compiles Successfully

**Objective:** Verify the package builds without TypeScript errors

**Steps:**
1. Run `pnpm build` from monorepo root
2. Verify `packages/orchestrator/dist/` directory is created
3. Verify `dist/index.js` and `dist/index.d.ts` exist

**Evidence:** Terminal output showing successful build

---

### HP-2: Workspace Integration

**Objective:** Verify package is recognized by pnpm workspace

**Steps:**
1. Run `pnpm list --filter @repo/orchestrator`
2. Verify package appears in workspace listing
3. Run `pnpm -r list @repo/orchestrator` (from another package that imports it, if any)

**Evidence:** pnpm list output showing `@repo/orchestrator@0.0.1`

---

### HP-3: Import Resolution

**Objective:** Verify the package can be imported correctly

**Steps:**
1. Create a simple test file that imports from `@repo/orchestrator`
2. Run type-check to verify import resolves
3. Verify exported types are accessible

**Evidence:** Type-check passing on test import

---

### HP-4: Dependencies Installed

**Objective:** Verify LangGraphJS and Zod dependencies are correctly installed

**Steps:**
1. Run `pnpm list --filter @repo/orchestrator --depth 0`
2. Verify `@langchain/langgraph` appears in dependencies
3. Verify `@langchain/core` appears in dependencies
4. Verify `zod` appears in dependencies

**Evidence:** pnpm list output showing all required dependencies

---

## Error Cases

### EC-1: Type Errors Prevented

**Objective:** Verify TypeScript strict mode catches type errors

**Steps:**
1. Verify `tsconfig.json` has `strict: true`
2. Attempt to add code with implicit any (should fail type-check)

**Evidence:** tsconfig.json content showing strict mode

---

### EC-2: Build Fails Without Source

**Objective:** Verify build requires valid source files

**Steps:**
1. Confirm build fails if `src/index.ts` is missing or invalid
2. This is standard TypeScript behavior

**Evidence:** N/A (standard TypeScript behavior)

---

## Edge Cases

### EDGE-1: Turborepo Cache

**Objective:** Verify turborepo correctly caches build outputs

**Steps:**
1. Run `pnpm build` twice
2. Second run should show "FULL TURBO" for orchestrator package

**Evidence:** Terminal output showing cache hit

---

### EDGE-2: Clean Build

**Objective:** Verify clean build works after dist removal

**Steps:**
1. Run `rm -rf packages/orchestrator/dist`
2. Run `pnpm build --filter @repo/orchestrator`
3. Verify dist is recreated

**Evidence:** Terminal output showing rebuild

---

## Evidence Requirements

| Test ID | Evidence Type | Capture Method |
|---------|---------------|----------------|
| HP-1 | Terminal output | Copy/paste build output |
| HP-2 | Terminal output | Copy/paste pnpm list |
| HP-3 | Terminal output | Copy/paste type-check |
| HP-4 | Terminal output | Copy/paste dependency list |
| EDGE-1 | Terminal output | Copy/paste showing cache hit |

---

## Backend Test Requirements

- No `.http` requests required (pure TypeScript package, no API endpoints)
- Unit tests required: At minimum, a smoke test proving the package exports are valid
- Run `pnpm test --filter @repo/orchestrator` and capture output

## Frontend Test Requirements

- **SKIPPED** — This story does not touch UI

---

## Seed Requirements

- **NOT APPLICABLE** — No database or seed data required for this story

---

*Generated by PM Agent | wrkf-1000*
