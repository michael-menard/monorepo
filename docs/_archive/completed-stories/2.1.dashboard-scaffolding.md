# Story 2.1: Dashboard Project Scaffolding

## Status

Done

## Story

**As a** developer,
**I want** the dashboard-app project scaffolded,
**so that** I can build the dashboard features.

## Acceptance Criteria

1. ✅ `apps/web/app-dashboard/` folder created (using `app-dashboard` naming convention)
2. ✅ package.json with correct dependencies (`@repo/app-dashboard`)
3. ✅ Connected to shell via lazy loading
4. ✅ Route `/dashboard` configured in shell
5. ✅ Basic page component renders

## Tasks / Subtasks

- [x] **Task 1: Create App Structure**
  - [x] Create folder `apps/web/app-dashboard/` (using `app-dashboard` naming)
  - [x] Create package.json with name `@repo/app-dashboard`
  - [x] Add dependencies: react, @repo/ui, zod, tailwind, etc.

- [x] **Task 2: Shell Integration**
  - [x] Create DashboardModule.tsx in shell
  - [x] Configure lazy loading from `@repo/app-dashboard`
  - [x] Add /dashboard route with auth guard

- [x] **Task 3: Basic Page**
  - [x] Create main-page.tsx with basic dashboard UI
  - [x] Export from index.ts
  - [x] Verify renders in browser (dev server starts on port 3000)

## Dev Notes

### Package.json

```json
{
  "name": "@repo/dashboard-app",
  "version": "0.0.1",
  "private": true,
  "main": "src/index.ts",
  "dependencies": {
    "react": "^19.0.0",
    "@repo/ui": "workspace:*"
  }
}
```

### Shell Route

```typescript
// In main-app routes
export const Route = createFileRoute('/dashboard')({
  component: lazy(() => import('@repo/dashboard-app')),
})
```

## Dev Agent Record

### Agent Model Used

claude-opus-4-5-20251101

### Debug Log References

N/A

### Completion Notes

- Used existing `app-dashboard` folder (instead of `dashboard-app`) per user preference
- Package name is `@repo/app-dashboard` (instead of `@repo/dashboard-app`)
- Created `src/index.ts` entry point for lazy loading exports
- Added `main`, `types`, and `exports` fields to package.json for module resolution
- Updated `DashboardModule.tsx` in main-app to lazy-load from `@repo/app-dashboard`
- Added `@repo/app-dashboard` as workspace dependency in main-app
- Fixed import paths in app-dashboard (`@repo/ui` instead of `@repo/ui/lib`)
- Updated DashboardModule tests for lazy-loading pattern
- All 4 tests pass

### File List

| File | Action |
| ---- | ------ |
| `apps/web/app-dashboard/src/index.ts` | Created |
| `apps/web/app-dashboard/package.json` | Modified (added exports) |
| `apps/web/app-dashboard/src/components/module-layout.tsx` | Modified (fixed import) |
| `apps/web/app-dashboard/src/pages/main-page.tsx` | Modified (fixed import) |
| `apps/web/main-app/package.json` | Modified (added dependency) |
| `apps/web/main-app/src/routes/modules/DashboardModule.tsx` | Modified (lazy-load) |
| `apps/web/main-app/src/routes/modules/__tests__/DashboardModule.test.tsx` | Modified |

## Change Log

| Date       | Version | Description   | Author   |
| ---------- | ------- | ------------- | -------- |
| 2025-11-28 | 0.1     | Initial draft | SM Agent |
| 2025-11-30 | 1.0     | Implemented - integrated @repo/app-dashboard with lazy loading | Dev Agent |
