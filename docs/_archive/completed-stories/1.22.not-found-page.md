# Story 1.22: 404 Page

## Status

Ready for Review

## Story

**As a** user,
**I want** a friendly 404 page for unknown routes,
**so that** I can navigate back to valid pages.

## Acceptance Criteria

1. ✅ NotFoundPage component exists
2. ✅ Shows 404 message
3. ✅ Link to home page
4. ✅ LEGO-themed illustration (optional)
5. ⬜ Search suggestions (optional) - Deferred to future enhancement
6. ✅ Router configured to show for unknown routes

## Tasks / Subtasks

- [x] **Task 1: Verify Component Exists** (AC: 1)
  - [x] Check routes/pages/NotFoundPage.tsx
  - [x] Review current implementation

- [x] **Task 2: 404 Content** (AC: 2-3)
  - [x] Display "404 - Page Not Found" heading
  - [x] Friendly message
  - [x] "Go Home" button/link
  - [x] Optionally "Go Back" button

- [x] **Task 3: Visual Design** (AC: 4)
  - [x] Add LEGO-themed illustration
  - [x] Consider confused minifig or broken brick
  - [x] Use brand colors

- [x] **Task 4: Router Integration** (AC: 6)
  - [x] Configure catch-all route
  - [x] Or use router notFoundComponent
  - [x] Test with invalid URL

## Dev Notes

### Existing Implementation

**File:** `apps/web/main-app/src/routes/pages/NotFoundPage.tsx`

### Component Structure

```typescript
export function NotFoundPage() {
  return (
    <div className="flex flex-col items-center justify-center min-h-[60vh] text-center">
      {/* Optional illustration */}
      <h1 className="text-6xl font-bold text-primary">404</h1>
      <h2 className="mt-2 text-2xl font-semibold">Page Not Found</h2>
      <p className="mt-2 text-muted-foreground max-w-md">
        Oops! The page you're looking for doesn't exist.
        It might have been moved or deleted.
      </p>
      <div className="mt-6 flex gap-4">
        <Button asChild>
          <Link to="/">Go Home</Link>
        </Button>
        <Button variant="outline" onClick={() => window.history.back()}>
          Go Back
        </Button>
      </div>
    </div>
  )
}
```

### TanStack Router Not Found

```typescript
const rootRoute = createRootRoute({
  component: RootLayout,
  notFoundComponent: NotFoundPage,
})
```

### Catch-All Route Alternative

```typescript
export const Route = createFileRoute('*')({
  component: NotFoundPage,
})
```

### Illustration Ideas

- Confused LEGO minifig with question mark
- Broken LEGO brick
- Empty LEGO baseplate
- Use SVG or emoji placeholder

### Testing

- Test component renders
- Test navigation links work
- Test shows for invalid routes
- Test go back button works

## Dev Agent Record

### Agent Model Used

Claude Opus 4.5 (claude-opus-4-5-20251101)

### Debug Log References

N/A - No significant debugging required

### Completion Notes

- Enhanced NotFoundPage component with LEGO-themed confused brick SVG illustration
- Fixed import pattern to use `@repo/ui` package barrel instead of individual paths
- Fixed "Go Back" button pattern - removed incorrect `asChild` prop with `onClick` handler
- Added gradient styling using sky-500 to teal-500 brand colors
- Added responsive flex layout for buttons (stacked on mobile, side-by-side on desktop)
- Created comprehensive test suite with 14 tests covering rendering, navigation, visual design, and accessibility
- Router already configured with catch-all route (`path: '*'`) in routes/index.ts
- AC #5 (Search suggestions) marked as deferred - optional enhancement for future story

### File List

| File | Action | Description |
| ---- | ------ | ----------- |
| apps/web/main-app/src/routes/pages/NotFoundPage.tsx | Modified | Added LEGO brick illustration, fixed imports, fixed Go Back button, added brand gradient colors |
| apps/web/main-app/src/routes/pages/__tests__/NotFoundPage.test.tsx | Created | 14 unit tests for NotFoundPage component |

## Change Log

| Date       | Version | Description   | Author   |
| ---------- | ------- | ------------- | -------- |
| 2025-11-28 | 0.1     | Initial draft | SM Agent |
| 2025-11-30 | 1.0     | Implementation complete - LEGO brick illustration, brand colors, tests | James (Dev Agent) |
