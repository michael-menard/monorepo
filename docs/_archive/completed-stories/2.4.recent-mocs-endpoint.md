# Story 2.4: Recent MOCs Endpoint Integration

## Status

Ready for Review

## Story

**As a** user,
**I want** to see my recently added MOCs,
**so that** I can quickly access my latest additions.

## Acceptance Criteria

1. âœ… `useGetRecentMocsQuery` hook available
2. âœ… Fetches GET /dashboard/recent
3. âœ… Returns array of last 5 MOCs (default limit=5)
4. âœ… Each MOC has: id, title, thumbnail, createdAt (Zod validated)
5. ðŸ”„ Backend: /dashboard/recent endpoint required

## Tasks / Subtasks

- [x] **Task 1: Define Endpoint**
  - [x] Add getRecentMocs query to dashboardApi
  - [x] Limit to 5 items (default parameter)

- [x] **Task 2: Response Types**
  - [x] Create RecentMoc interface (as Zod type)
  - [x] Array of MOC summaries with validation

## Dev Notes

### Endpoint Definition

```typescript
getRecentMocs: builder.query<RecentMoc[], void>({
  query: () => '/dashboard/recent?limit=5',
  providesTags: ['RecentMocs'],
}),

export interface RecentMoc {
  id: string
  title: string
  thumbnail: string | null
  createdAt: string
}
```

## Dev Agent Record

### Agent Model Used
Claude Sonnet 4.5 (via James - Full Stack Developer)

### Debug Log References
None

### Completion Notes
- Implementation already completed as part of Story 2.3
- RecentMocSchema with Zod validation (id, title, thumbnail, createdAt)
- Runtime validation in transformResponse
- Default limit of 5 MOCs, configurable via parameter
- All tests passing (147 tests in api-client package)
- Type checking successful

### File List
- `packages/core/api-client/src/rtk/dashboard-api.ts` - Already implemented with Zod validation

## Change Log

| Date       | Version | Description                          | Author   |
| ---------- | ------- | ------------------------------------ | -------- |
| 2025-11-28 | 0.1     | Initial draft                        | SM Agent |
| 2025-12-25 | 1.0     | Verified implementation complete     | James    |
