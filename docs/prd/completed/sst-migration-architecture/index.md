# LEGO Projects API - SST Serverless Migration Architecture

## Table of Contents

- [LEGO Projects API - SST Serverless Migration Architecture](#table-of-contents)
  - [Introduction](introduction.md)
    - [Migration Context](introduction.md#migration-context)
    - [Change Log](introduction.md#change-log)
  - [High-Level Architecture](high-level-architecture.md)
    - [Technical Summary](high-level-architecture.md#technical-summary)
    - [Platform and Infrastructure Choice](high-level-architecture.md#platform-and-infrastructure-choice)
    - [Repository Structure](high-level-architecture.md#repository-structure)
    - [High-Level Architecture Diagram](high-level-architecture.md#high-level-architecture-diagram)
    - [Architectural Patterns](high-level-architecture.md#architectural-patterns)
  - [Tech Stack](tech-stack.md)
    - [Technology Stack Table](tech-stack.md#technology-stack-table)
  - [Data Models](data-models.md)
    - [Core Entities](data-models.md#core-entities)
      - [Gallery Image](data-models.md#gallery-image)
      - [MOC Instruction](data-models.md#moc-instruction)
      - [Wishlist Item](data-models.md#wishlist-item)
      - [User Profile (Cognito)](data-models.md#user-profile-cognito)
  - [API Specification](api-specification.md)
    - [API Style: REST (HTTP JSON API)](api-specification.md#api-style-rest-http-json-api)
    - [Base URLs](api-specification.md#base-urls)
    - [Authentication](api-specification.md#authentication)
    - [OpenAPI 3.0 Specification (Core Endpoints)](api-specification.md#openapi-30-specification-core-endpoints)
  - [Lambda Functions Specification](lambda-functions-specification.md)
    - [Function Organization Strategy](lambda-functions-specification.md#function-organization-strategy)
    - [Shared Lambda Configuration](lambda-functions-specification.md#shared-lambda-configuration)
    - [Lambda Layer Strategy](lambda-functions-specification.md#lambda-layer-strategy)
    - [1. Health Check Lambda](lambda-functions-specification.md#1-health-check-lambda)
    - [2. MOC Instructions Lambda](lambda-functions-specification.md#2-moc-instructions-lambda)
    - [3. Gallery Images Lambda](lambda-functions-specification.md#3-gallery-images-lambda)
    - [4. Wishlist Lambda](lambda-functions-specification.md#4-wishlist-lambda)
    - [5. User Profile Lambda](lambda-functions-specification.md#5-user-profile-lambda)
    - [6. File Upload Lambda](lambda-functions-specification.md#6-file-upload-lambda)
    - [7. CSV Parser Lambda](lambda-functions-specification.md#7-csv-parser-lambda)
    - [Lambda IAM Roles](lambda-functions-specification.md#lambda-iam-roles)
  - [Database Architecture](database-architecture.md)
    - [Connection Strategy](database-architecture.md#connection-strategy)
    - [Database Schema](database-architecture.md#database-schema)
  - [Caching Architecture](caching-architecture.md)
    - [Redis Configuration](caching-architecture.md#redis-configuration)
    - [Cache Patterns](caching-architecture.md#cache-patterns)
    - [Cache Key Patterns](caching-architecture.md#cache-key-patterns)
    - [Cache TTLs](caching-architecture.md#cache-ttls)
    - [Graceful Degradation](caching-architecture.md#graceful-degradation)
  - [Search Architecture](search-architecture.md)
    - [OpenSearch Configuration](search-architecture.md#opensearch-configuration)
    - [Index Definitions](search-architecture.md#index-definitions)
    - [Indexing Strategy](search-architecture.md#indexing-strategy)
    - [Search Query Pattern](search-architecture.md#search-query-pattern)
    - [Fallback to PostgreSQL](search-architecture.md#fallback-to-postgresql)
  - [Security Model](security-model.md)
    - [Authentication Flow](security-model.md#authentication-flow)
    - [API Gateway JWT Authorizer](security-model.md#api-gateway-jwt-authorizer)
    - [IAM Roles and Policies](security-model.md#iam-roles-and-policies)
    - [Secrets Management](security-model.md#secrets-management)
    - [CORS Configuration](security-model.md#cors-configuration)
    - [Rate Limiting](security-model.md#rate-limiting)
    - [Input Validation](security-model.md#input-validation)
  - [Migration Strategy](migration-strategy.md)
    - [Blue/Green Deployment Plan](migration-strategy.md#bluegreen-deployment-plan)
    - [Rollback Procedure](migration-strategy.md#rollback-procedure)
    - [Data Migration](migration-strategy.md#data-migration)
  - [Monitoring & Observability](monitoring-observability.md)
    - [CloudWatch Dashboards](monitoring-observability.md#cloudwatch-dashboards)
    - [CloudWatch Alarms](monitoring-observability.md#cloudwatch-alarms)
    - [AWS X-Ray Tracing](monitoring-observability.md#aws-x-ray-tracing)
    - [Logging Strategy](monitoring-observability.md#logging-strategy)
    - [Cost Monitoring](monitoring-observability.md#cost-monitoring)
  - [Deployment Architecture](deployment-architecture.md)
    - [SST Deployment Workflow](deployment-architecture.md#sst-deployment-workflow)
    - [CI/CD Pipeline](deployment-architecture.md#cicd-pipeline)
    - [Environment Variables](deployment-architecture.md#environment-variables)
  - [Performance Optimization](performance-optimization.md)
    - [Cold Start Mitigation](performance-optimization.md#cold-start-mitigation)
    - [Response Time Optimization](performance-optimization.md#response-time-optimization)
  - [Project Structure](project-structure.md)
  - [Development Workflow](development-workflow.md)
    - [Local Development Setup](development-workflow.md#local-development-setup)
    - [Testing Strategy](development-workflow.md#testing-strategy)
  - [Error Handling Strategy](error-handling-strategy.md)
    - [Error Response Format](error-handling-strategy.md#error-response-format)
    - [Error Codes](error-handling-strategy.md#error-codes)
    - [Lambda Error Handler](error-handling-strategy.md#lambda-error-handler)
    - [Retry Logic](error-handling-strategy.md#retry-logic)
  - [Cost Model](cost-model.md)
    - [Projected Monthly Costs (Production)](cost-model.md#projected-monthly-costs-production)
  - [Success Criteria](success-criteria.md)
    - [Performance Metrics](success-criteria.md#performance-metrics)
    - [Cost Metrics](success-criteria.md#cost-metrics)
    - [Developer Experience](success-criteria.md#developer-experience)
    - [Migration Success](success-criteria.md#migration-success)
  - [Document Metadata](document-metadata.md)
