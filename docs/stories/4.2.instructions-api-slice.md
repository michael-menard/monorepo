# Story 4.2: Instructions API Slice

## Status

Approved

## Story

**As a** developer,
**I want** an RTK Query slice for MOC management,
**so that** I can create, update, and delete MOCs.

## Acceptance Criteria

1. â¬œ `instructionsApi` slice created
2. â¬œ Mutations for CRUD operations
3. â¬œ Cache invalidation configured
4. â¬œ Optimistic updates where appropriate
5. ðŸ”„ Backend: MOC CRUD endpoints required

## Tasks / Subtasks

- [ ] **Task 1: Create API Slice**
  - [ ] Create services/instructionsApi.ts
  - [ ] Define tag types

- [ ] **Task 2: Add to Store**
  - [ ] Add reducer
  - [ ] Add middleware

## Dev Notes

```typescript
export const instructionsApi = createApi({
  reducerPath: 'instructionsApi',
  baseQuery: baseQueryWithReauth,
  tagTypes: ['Mocs', 'MocDetail', 'MocFiles'],
  endpoints: builder => ({
    // Mutations defined in stories 4.3-4.7
  }),
})
```

## Change Log

| Date       | Version | Description   | Author   |
| ---------- | ------- | ------------- | -------- |
| 2025-11-28 | 0.1     | Initial draft | SM Agent |
