# Story 2.2: Dashboard API Slice

## Status

Approved

## Story

**As a** developer,
**I want** an RTK Query slice for dashboard data,
**so that** I can fetch stats and recent MOCs.

## Acceptance Criteria

1. â¬œ `dashboardApi` slice created with RTK Query
2. â¬œ Base URL configured for API
3. â¬œ Authorization header included
4. â¬œ Cache invalidation tags defined
5. ðŸ”„ Backend: Dashboard endpoints must exist

## Tasks / Subtasks

- [ ] **Task 1: Create API Slice**
  - [ ] Create services/dashboardApi.ts
  - [ ] Use createApi from RTK Query
  - [ ] Configure baseQuery with auth

- [ ] **Task 2: Define Tags**
  - [ ] Add 'DashboardStats' tag
  - [ ] Add 'RecentMocs' tag

- [ ] **Task 3: Integrate with Store**
  - [ ] Add reducer to store
  - [ ] Add middleware

## Dev Notes

### API Slice Template

```typescript
import { createApi } from '@reduxjs/toolkit/query/react'
import { baseQueryWithReauth } from '@/services/api/baseQuery'

export const dashboardApi = createApi({
  reducerPath: 'dashboardApi',
  baseQuery: baseQueryWithReauth,
  tagTypes: ['DashboardStats', 'RecentMocs'],
  endpoints: builder => ({
    // Endpoints defined in stories 2.3, 2.4
  }),
})
```

## Change Log

| Date       | Version | Description   | Author   |
| ---------- | ------- | ------------- | -------- |
| 2025-11-28 | 0.1     | Initial draft | SM Agent |
