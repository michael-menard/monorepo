# Story 3.22: File List - Parts Lists

## Status

Approved

## Story

**As a** user,
**I want** to see and download parts lists,
**so that** I can order pieces for my MOC.

## Acceptance Criteria

1. ⬜ PartsFileList component created
2. ⬜ Lists XML, CSV, JSON parts files
3. ⬜ Shows format badge
4. ⬜ Download button for each
5. ⬜ File size displayed

## Tasks / Subtasks

- [ ] **Task 1: Create Component**
  - [ ] Create PartsFileList.tsx
  - [ ] Filter parts file types

- [ ] **Task 2: Format Badge**
  - [ ] Show file format
  - [ ] Different colors

## Dev Notes

```typescript
interface PartsFileListProps {
  files: MocFile[]
}

const partTypes = ['xml', 'csv', 'json']

export function PartsFileList({ files }: PartsFileListProps) {
  const partsFiles = files.filter((f) => partTypes.includes(f.type))

  if (partsFiles.length === 0) return null

  const formatBadgeColor = (type: string) => {
    switch (type) {
      case 'xml': return 'bg-orange-100 text-orange-700'
      case 'csv': return 'bg-green-100 text-green-700'
      case 'json': return 'bg-blue-100 text-blue-700'
      default: return 'bg-gray-100 text-gray-700'
    }
  }

  return (
    <section>
      <h3 className="text-lg font-semibold mb-3">Parts Lists</h3>
      <ul className="space-y-2">
        {partsFiles.map((file) => (
          <li key={file.id} className="flex items-center justify-between p-3 bg-muted rounded-lg">
            <div className="flex items-center gap-3">
              <List className="h-5 w-5" />
              <span className="font-medium">{file.name}</span>
              <Badge className={formatBadgeColor(file.type)}>{file.type.toUpperCase()}</Badge>
              <span className="text-sm text-muted-foreground">{formatFileSize(file.size)}</span>
            </div>
            <Button variant="ghost" size="sm" asChild>
              <a href={file.url} download><Download className="h-4 w-4" /></a>
            </Button>
          </li>
        ))}
      </ul>
    </section>
  )
}
```

## Change Log

| Date       | Version | Description   | Author   |
| ---------- | ------- | ------------- | -------- |
| 2025-11-28 | 0.1     | Initial draft | SM Agent |
