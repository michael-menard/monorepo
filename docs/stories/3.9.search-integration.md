# Story 3.9: Search Integration

## Status

Approved

## Story

**As a** user,
**I want** search to filter my MOCs,
**so that** I see matching results.

## Acceptance Criteria

1. â¬œ Search value passed to API
2. â¬œ Results update on search change
3. â¬œ Loading state during search
4. â¬œ No flicker on rapid typing
5. ðŸ”„ Backend: Search query support required

## Tasks / Subtasks

- [ ] **Task 1: State Management**
  - [ ] Track search term in state
  - [ ] Pass to getMocs query

- [ ] **Task 2: Query Integration**
  - [ ] Update query params
  - [ ] Reset to page 1 on search

- [ ] **Task 3: Loading UX**
  - [ ] Show subtle loading indicator
  - [ ] Debounce prevents flicker

## Dev Notes

```typescript
function GalleryPage() {
  const [search, setSearch] = useState('')

  const { data, isLoading, isFetching } = useGetMocsQuery({
    search,
    page: 1,
    limit: 20,
  })

  return (
    <div>
      <SearchInput value={search} onChange={setSearch} />
      {isFetching && <LoadingBar />}
      <CollectionGrid mocs={data?.items || []} />
    </div>
  )
}
```

## Change Log

| Date       | Version | Description   | Author   |
| ---------- | ------- | ------------- | -------- |
| 2025-11-28 | 0.1     | Initial draft | SM Agent |
