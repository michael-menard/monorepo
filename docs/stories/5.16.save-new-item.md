# Story 5.16: Save New Item

## Status

Approved

## Story

**As a** user,
**I want** to save my wishlist item,
**so that** it appears in my list.

## Acceptance Criteria

1. ⬜ Save button submits form
2. ⬜ Calls addWishlistItem mutation
3. ⬜ Shows success toast
4. ⬜ Closes modal on success
5. ⬜ Item appears immediately (optimistic)

## Tasks / Subtasks

- [ ] **Task 1: Submit Handler**
  - [ ] Validate form
  - [ ] Call mutation

- [ ] **Task 2: Success Flow**
  - [ ] Toast notification
  - [ ] Close modal
  - [ ] List updates

## Dev Notes

```typescript
const [addItem, { isLoading }] = useAddWishlistItemMutation()

const onSubmit = async (values: WishlistItemInput) => {
  try {
    await addItem(values).unwrap()
    toast.success('Item added to wishlist!')
    onSuccess()
  } catch (error) {
    toast.error('Failed to add item')
  }
}

// In form
<Button type="submit" disabled={isLoading}>
  {isLoading ? (
    <>
      <Spinner className="mr-2 h-4 w-4" />
      Saving...
    </>
  ) : (
    'Save Item'
  )}
</Button>
```

## Change Log

| Date       | Version | Description   | Author   |
| ---------- | ------- | ------------- | -------- |
| 2025-11-28 | 0.1     | Initial draft | SM Agent |
