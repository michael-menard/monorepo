# Story 1.8: AppBar Component

## Status

Approved

## Story

**As a** user,
**I want** an app bar with logo, search, user menu, and theme toggle,
**so that** I can navigate and access key features from any page.

## Acceptance Criteria

1. ✅ AppBar/Header component exists
2. ⬜ LEGO MOC logo displayed on left
3. ⬜ Search input placeholder (functionality in later story)
4. ⬜ User avatar/menu on right when authenticated
5. ⬜ Login button when not authenticated
6. ⬜ Theme toggle button (light/dark/system)
7. ⬜ Responsive - hamburger menu on mobile
8. ⬜ Sticky positioning at top

## Tasks / Subtasks

- [ ] **Task 1: Verify Header Component Exists** (AC: 1)
  - [x] Check components/Layout/Header.tsx exists
  - [ ] Review current implementation

- [ ] **Task 2: Implement/Verify Logo** (AC: 2)
  - [ ] Add LEGO MOC logo or text branding
  - [ ] Link to home page

- [ ] **Task 3: Add Search Placeholder** (AC: 3)
  - [ ] Add search input UI
  - [ ] Style with Tailwind
  - [ ] Note: actual search in Gallery epic

- [ ] **Task 4: Implement User Menu** (AC: 4-5)
  - [ ] Show avatar + dropdown when authenticated
  - [ ] Show login button when not authenticated
  - [ ] Use @repo/ui DropdownMenu component

- [ ] **Task 5: Add Theme Toggle** (AC: 6)
  - [ ] Add theme toggle button/dropdown
  - [ ] Connect to themeSlice
  - [ ] Show current theme state

- [ ] **Task 6: Mobile Responsiveness** (AC: 7-8)
  - [ ] Add hamburger menu for mobile
  - [ ] Hide/show elements based on breakpoint
  - [ ] Ensure sticky positioning works

## Dev Notes

### Existing Implementation

**File:** `apps/web/main-app/src/components/Layout/Header.tsx`

### Component Structure

```typescript
export function Header() {
  const isAuthenticated = useAppSelector(selectIsAuthenticated)
  const user = useAppSelector(selectUser)
  const theme = useAppSelector(selectTheme)

  return (
    <header className="sticky top-0 z-50 border-b bg-background">
      {/* Logo */}
      {/* Search */}
      {/* User Menu / Login */}
      {/* Theme Toggle */}
    </header>
  )
}
```

### @repo/ui Components to Use

- Button
- DropdownMenu (for user menu, theme toggle)
- Input (for search)
- Avatar (for user avatar)

### Testing

- Unit test component renders
- Test auth state conditional rendering
- Test theme toggle dispatches action
- Test responsive behavior

## Change Log

| Date       | Version | Description   | Author   |
| ---------- | ------- | ------------- | -------- |
| 2025-11-28 | 0.1     | Initial draft | SM Agent |
