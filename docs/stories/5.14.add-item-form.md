# Story 5.14: Add Item Form

## Status

Approved

## Story

**As a** user,
**I want** a form to enter item details,
**so that** I can save wishlist items.

## Acceptance Criteria

1. ⬜ Name input (required)
2. ⬜ URL input (required)
3. ⬜ Type select (MOC/LEGO/Alt)
4. ⬜ Notes textarea (optional)
5. ⬜ Zod validation

## Tasks / Subtasks

- [ ] **Task 1: Form Schema**
  - [ ] Define with Zod
  - [ ] Validation rules

- [ ] **Task 2: Form Fields**
  - [ ] Name, URL, Type, Notes
  - [ ] Error messages

## Dev Notes

```typescript
const wishlistItemSchema = z.object({
  name: z.string().min(1, 'Name is required').max(100),
  url: z.string().url('Please enter a valid URL'),
  type: z.enum(['moc', 'lego', 'alt']),
  notes: z.string().max(500).optional(),
})

function WishlistItemForm({ onSuccess, onCancel, defaultValues }: WishlistItemFormProps) {
  const form = useForm({
    resolver: zodResolver(wishlistItemSchema),
    defaultValues: defaultValues || { name: '', url: '', type: 'moc', notes: '' },
  })

  return (
    <Form {...form}>
      <form onSubmit={form.handleSubmit(onSubmit)} className="space-y-4">
        <FormField name="name" render={...} />
        <FormField name="url" render={...} />
        <FormField name="type" render={({ field }) => (
          <FormItem>
            <FormLabel>Type</FormLabel>
            <Select onValueChange={field.onChange} value={field.value}>
              <SelectTrigger><SelectValue /></SelectTrigger>
              <SelectContent>
                <SelectItem value="moc">MOC Instructions</SelectItem>
                <SelectItem value="lego">LEGO Set</SelectItem>
                <SelectItem value="alt">Alt Brick Set</SelectItem>
              </SelectContent>
            </Select>
          </FormItem>
        )} />
        <FormField name="notes" render={...} />
        <DialogFooter>
          <Button type="button" variant="outline" onClick={onCancel}>Cancel</Button>
          <Button type="submit">Save</Button>
        </DialogFooter>
      </form>
    </Form>
  )
}
```

## Change Log

| Date       | Version | Description   | Author   |
| ---------- | ------- | ------------- | -------- |
| 2025-11-28 | 0.1     | Initial draft | SM Agent |
