# Story 4.4: Update MOC Endpoint

## Status

Approved

## Story

**As a** user,
**I want** to update existing MOCs,
**so that** I can correct or enhance information.

## Acceptance Criteria

1. â¬œ `useUpdateMocMutation` hook available
2. â¬œ PUT /mocs/:id with MOC data
3. â¬œ Returns updated MOC
4. â¬œ Invalidates specific MOC cache
5. ðŸ”„ Backend: PUT /mocs/:id endpoint required

## Tasks / Subtasks

- [ ] **Task 1: Define Mutation**
  - [ ] Add updateMoc mutation
  - [ ] Accept id + partial data
  - [ ] Invalidate by ID

## Dev Notes

```typescript
updateMoc: builder.mutation<MocDetail, UpdateMocInput>({
  query: ({ id, ...data }) => ({
    url: `/mocs/${id}`,
    method: 'PUT',
    body: data,
  }),
  invalidatesTags: (result, error, { id }) => [
    { type: 'MocDetail', id },
    'Mocs',
  ],
}),

interface UpdateMocInput {
  id: string
  title?: string
  description?: string
  theme?: string
  tags?: string[]
  pieceCount?: number
}
```

## Change Log

| Date       | Version | Description   | Author   |
| ---------- | ------- | ------------- | -------- |
| 2025-11-28 | 0.1     | Initial draft | SM Agent |
