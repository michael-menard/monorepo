# Story 1.9: Sidebar Component

## Status

Approved

## Story

**As a** user,
**I want** a sidebar with navigation links,
**so that** I can easily navigate between app sections.

## Acceptance Criteria

1. ✅ Sidebar component exists
2. ⬜ Navigation links: Dashboard, Gallery, Instructions, Wishlist, Settings
3. ⬜ Active state highlighting for current route
4. ⬜ Collapse/expand toggle
5. ⬜ Icons from Lucide React for each nav item
6. ⬜ Tooltips when collapsed
7. ⬜ Smooth collapse animation

## Tasks / Subtasks

- [ ] **Task 1: Verify Sidebar Component** (AC: 1)
  - [x] Check components/Layout/Sidebar.tsx exists
  - [ ] Review current implementation

- [ ] **Task 2: Add Navigation Links** (AC: 2)
  - [ ] Dashboard link → /dashboard
  - [ ] Gallery link → /gallery
  - [ ] Instructions link → /instructions
  - [ ] Wishlist link → /wishlist
  - [ ] Settings link → /settings
  - [ ] Use TanStack Router Link component

- [ ] **Task 3: Active State** (AC: 3)
  - [ ] Detect current route
  - [ ] Apply active styling (bg color, text color)
  - [ ] Use useRouterState or similar

- [ ] **Task 4: Collapse Feature** (AC: 4, 6-7)
  - [ ] Add collapse toggle button
  - [ ] Connect to globalUISlice.sidebar.isCollapsed
  - [ ] Animate width change with Framer Motion
  - [ ] Show tooltips when collapsed

- [ ] **Task 5: Add Icons** (AC: 5)
  - [ ] Import from lucide-react
  - [ ] LayoutDashboard for Dashboard
  - [ ] Images for Gallery
  - [ ] FileText for Instructions
  - [ ] Heart for Wishlist
  - [ ] Settings for Settings

## Dev Notes

### Existing Implementation

**File:** `apps/web/main-app/src/components/Layout/Sidebar.tsx`

### Navigation Config

```typescript
const navItems = [
  { path: '/dashboard', label: 'Dashboard', icon: LayoutDashboard },
  { path: '/gallery', label: 'Gallery', icon: Images },
  { path: '/instructions', label: 'Instructions', icon: FileText },
  { path: '/wishlist', label: 'Wishlist', icon: Heart },
  { path: '/settings', label: 'Settings', icon: Settings },
]
```

### Active State Detection

```typescript
import { useRouterState } from '@tanstack/react-router'

const routerState = useRouterState()
const isActive = routerState.location.pathname.startsWith(item.path)
```

### Collapse Animation

Use Framer Motion:

```typescript
<motion.aside
  animate={{ width: isCollapsed ? 64 : 240 }}
  transition={{ duration: 0.2 }}
>
```

### Testing

- Test navigation links render
- Test active state applies correctly
- Test collapse/expand works
- Test tooltips appear when collapsed

## Change Log

| Date       | Version | Description   | Author   |
| ---------- | ------- | ------------- | -------- |
| 2025-11-28 | 0.1     | Initial draft | SM Agent |
