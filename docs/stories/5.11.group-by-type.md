# Story 5.11: Group by Type

## Status

Approved

## Story

**As a** user,
**I want** to group wishlist items by type,
**so that** I can view related items together.

## Acceptance Criteria

1. ⬜ Collapsible sections per type
2. ⬜ MOC, LEGO Set, Alt Brick sections
3. ⬜ Item count per section
4. ⬜ Expand/collapse all option
5. ⬜ Remember collapsed state

## Tasks / Subtasks

- [ ] **Task 1: Group Logic**
  - [ ] Group items by type
  - [ ] Order sections consistently

- [ ] **Task 2: Collapsible Sections**
  - [ ] Create CollapsibleSection
  - [ ] Header with count

## Dev Notes

```typescript
function WishlistGroupedView({ items, onEdit, onDelete }: WishlistViewProps) {
  const grouped = useMemo(() => ({
    moc: items.filter(i => i.type === 'moc'),
    lego: items.filter(i => i.type === 'lego'),
    alt: items.filter(i => i.type === 'alt'),
  }), [items])

  const sections = [
    { key: 'moc', label: 'MOC Instructions', items: grouped.moc },
    { key: 'lego', label: 'LEGO Sets', items: grouped.lego },
    { key: 'alt', label: 'Alt Brick Sets', items: grouped.alt },
  ]

  return (
    <div className="space-y-4">
      {sections.map(section => (
        section.items.length > 0 && (
          <Collapsible key={section.key} defaultOpen>
            <CollapsibleTrigger className="flex items-center justify-between w-full p-3 bg-muted rounded-lg">
              <span className="font-medium">{section.label}</span>
              <Badge variant="secondary">{section.items.length}</Badge>
            </CollapsibleTrigger>
            <CollapsibleContent className="pt-3">
              <WishlistListView items={section.items} onEdit={onEdit} onDelete={onDelete} />
            </CollapsibleContent>
          </Collapsible>
        )
      ))}
    </div>
  )
}
```

## Change Log

| Date       | Version | Description   | Author   |
| ---------- | ------- | ------------- | -------- |
| 2025-11-28 | 0.1     | Initial draft | SM Agent |
