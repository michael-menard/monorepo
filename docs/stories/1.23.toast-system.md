# Story 1.23: Toast System

## Status

Approved

## Story

**As a** user,
**I want** toast notifications for feedback,
**so that** I know when actions succeed or fail.

## Acceptance Criteria

1. ⬜ Toast provider configured
2. ⬜ Toast variants: success, error, warning, info
3. ⬜ Auto-dismiss after timeout
4. ⬜ Manual dismiss button
5. ⬜ Toast position (top-right or bottom-right)
6. ⬜ useToast hook available
7. ⬜ Accessible (aria-live)

## Tasks / Subtasks

- [ ] **Task 1: Configure Toast Provider** (AC: 1)
  - [ ] Use @repo/ui Toaster component
  - [ ] Or install sonner/react-hot-toast
  - [ ] Add provider to App.tsx

- [ ] **Task 2: Toast Variants** (AC: 2)
  - [ ] Success (green checkmark)
  - [ ] Error (red X)
  - [ ] Warning (yellow warning)
  - [ ] Info (blue info)

- [ ] **Task 3: Dismiss Behavior** (AC: 3-4)
  - [ ] Configure auto-dismiss (5s default)
  - [ ] Add X button for manual dismiss
  - [ ] Optional: persist critical toasts

- [ ] **Task 4: Positioning** (AC: 5)
  - [ ] Set position to top-right or bottom-right
  - [ ] Configure offset from edges
  - [ ] Stack multiple toasts

- [ ] **Task 5: Hook & Accessibility** (AC: 6-7)
  - [ ] Export useToast hook
  - [ ] Add aria-live="polite"
  - [ ] Add role="status"

## Dev Notes

### @repo/ui Toast Setup

If using shadcn/ui Toaster:

```typescript
// In App.tsx
import { Toaster } from '@repo/ui'

function App() {
  return (
    <>
      <RouterProvider router={router} />
      <Toaster />
    </>
  )
}
```

### useToast Hook

```typescript
import { useToast } from '@repo/ui'

function MyComponent() {
  const { toast } = useToast()

  const handleSuccess = () => {
    toast({
      title: 'Success!',
      description: 'Your changes have been saved.',
      variant: 'success',
    })
  }

  const handleError = () => {
    toast({
      title: 'Error',
      description: 'Something went wrong. Please try again.',
      variant: 'destructive',
    })
  }
}
```

### Sonner Alternative

```typescript
import { Toaster, toast } from 'sonner'

// In App.tsx
<Toaster position="top-right" richColors />

// Usage
toast.success('Changes saved!')
toast.error('Something went wrong')
toast.warning('Please check your input')
toast.info('New feature available')
```

### Toast Configuration

```typescript
const toastConfig = {
  duration: 5000, // 5 seconds
  position: 'top-right',
  closeButton: true,
}
```

### Testing

- Test toast appears on trigger
- Test auto-dismiss works
- Test manual dismiss works
- Test all variants render correctly

## Change Log

| Date       | Version | Description   | Author   |
| ---------- | ------- | ------------- | -------- |
| 2025-11-28 | 0.1     | Initial draft | SM Agent |
