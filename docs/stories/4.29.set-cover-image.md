# Story 4.29: Set Cover Image

## Status

Approved

## Story

**As a** user,
**I want** to choose which image is the cover,
**so that** it displays in the gallery.

## Acceptance Criteria

1. â¬œ "Set as Cover" button per image
2. â¬œ Current cover indicated
3. â¬œ Only one cover at a time
4. â¬œ Updates via API
5. ðŸ”„ Backend: Set cover endpoint required

## Tasks / Subtasks

- [ ] **Task 1: Cover Indicator**
  - [ ] Badge on current cover
  - [ ] Visual distinction

- [ ] **Task 2: Set Cover Action**
  - [ ] Button/menu option
  - [ ] API call
  - [ ] Update UI

## Dev Notes

```typescript
interface ImageItemProps {
  image: MocImage
  mocId: string
}

function ImageItem({ image, mocId }: ImageItemProps) {
  const [setCover] = useSetCoverImageMutation()

  const handleSetCover = async () => {
    try {
      await setCover({ mocId, imageId: image.id }).unwrap()
      toast.success('Cover image updated')
    } catch {
      toast.error('Failed to set cover image')
    }
  }

  return (
    <div className="relative">
      <img src={image.thumbnailUrl} alt="" />
      {image.isCover && (
        <Badge className="absolute top-2 left-2">Cover</Badge>
      )}
      {!image.isCover && (
        <Button
          variant="secondary"
          size="sm"
          onClick={handleSetCover}
          className="absolute bottom-2 right-2"
        >
          Set as Cover
        </Button>
      )}
    </div>
  )
}
```

## Change Log

| Date       | Version | Description   | Author   |
| ---------- | ------- | ------------- | -------- |
| 2025-11-28 | 0.1     | Initial draft | SM Agent |
