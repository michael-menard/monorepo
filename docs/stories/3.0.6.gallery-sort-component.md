# Story 3.0.6: Gallery Sort Component

## Status

Draft

## Story

**As a** user,
**I want** to sort gallery items by different criteria,
**so that** I can view items in my preferred order.

## Acceptance Criteria

1. ⬜ GallerySort component created in @repo/gallery
2. ⬜ Dropdown with configurable sort options
3. ⬜ Visual indicator of current sort direction (asc/desc)
4. ⬜ Common sort options: name, date, piece count
5. ⬜ Accessible dropdown with proper ARIA attributes

## Tasks / Subtasks

- [ ] **Task 1: Create Sort Component**
  - [ ] Create `src/components/GallerySort.tsx`
  - [ ] Use @repo/ui Select component
  - [ ] Add sort direction toggle

- [ ] **Task 2: Sort Options Configuration**
  - [ ] Define SortOption type
  - [ ] Support label and value
  - [ ] Support direction (asc/desc) toggle

- [ ] **Task 3: Visual Indicators**
  - [ ] Arrow icon for direction
  - [ ] Animate direction change

## Dev Notes

### Component API

```typescript
interface SortOption {
  value: string
  label: string
  defaultDirection?: 'asc' | 'desc'
}

interface GallerySortProps {
  options: SortOption[]
  value: string
  direction: 'asc' | 'desc'
  onChange: (value: string, direction: 'asc' | 'desc') => void
  className?: string
}

// Common sort options
const defaultSortOptions: SortOption[] = [
  { value: 'name', label: 'Name', defaultDirection: 'asc' },
  { value: 'dateAdded', label: 'Date Added', defaultDirection: 'desc' },
  { value: 'dateModified', label: 'Date Modified', defaultDirection: 'desc' },
  { value: 'pieceCount', label: 'Piece Count', defaultDirection: 'desc' },
]

// Usage
<GallerySort
  options={sortOptions}
  value={sortBy}
  direction={sortDirection}
  onChange={(value, dir) => {
    setSortBy(value)
    setSortDirection(dir)
  }}
/>
```

### Sort State Management

```typescript
// In gallery page
const [sortBy, setSortBy] = useState('dateAdded')
const [sortDirection, setSortDirection] = useState<'asc' | 'desc'>('desc')

// Pass to API query
const { data } = useGetItemsQuery({
  sort: sortBy,
  order: sortDirection,
  // ...other params
})
```

## Testing

- [ ] Unit test: selecting option updates value
- [ ] Unit test: clicking direction toggles asc/desc
- [ ] Unit test: onChange called with both value and direction
- [ ] Accessibility test: proper ARIA attributes on select

## Change Log

| Date       | Version | Description   | Author   |
| ---------- | ------- | ------------- | -------- |
| 2025-11-30 | 0.1     | Initial draft | SM Agent |
