# Story 4.10: MOC Form - Theme Select

## Status

Approved

## Story

**As a** user,
**I want** to select a theme for my MOC,
**so that** I can categorize it properly.

## Acceptance Criteria

1. â¬œ Theme dropdown field
2. â¬œ Fetches available themes from API
3. â¬œ Required field
4. â¬œ Search/filter in dropdown
5. ðŸ”„ Backend: Themes list endpoint

## Tasks / Subtasks

- [ ] **Task 1: Theme Field**
  - [ ] Add to form schema
  - [ ] Create dropdown component

- [ ] **Task 2: Fetch Themes**
  - [ ] API query for themes
  - [ ] Handle loading state

## Dev Notes

```typescript
// Add to schema
theme: z.string().min(1, 'Please select a theme'),

// Component
function ThemeSelect({ form }: { form: UseFormReturn<MocFormValues> }) {
  const { data: themes, isLoading } = useGetThemesQuery()

  return (
    <FormField
      control={form.control}
      name="theme"
      render={({ field }) => (
        <FormItem>
          <FormLabel>Theme *</FormLabel>
          <Select onValueChange={field.onChange} value={field.value}>
            <FormControl>
              <SelectTrigger>
                <SelectValue placeholder="Select a theme" />
              </SelectTrigger>
            </FormControl>
            <SelectContent>
              {themes?.map((theme) => (
                <SelectItem key={theme} value={theme}>{theme}</SelectItem>
              ))}
            </SelectContent>
          </Select>
          <FormMessage />
        </FormItem>
      )}
    />
  )
}
```

## Change Log

| Date       | Version | Description   | Author   |
| ---------- | ------- | ------------- | -------- |
| 2025-11-28 | 0.1     | Initial draft | SM Agent |
