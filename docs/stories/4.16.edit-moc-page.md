# Story 4.16: Edit MOC Page

## Status

Approved

## Story

**As a** user,
**I want** a page to edit existing MOCs,
**so that** I can update information.

## Acceptance Criteria

1. ⬜ Route /instructions/:id/edit configured
2. ⬜ EditMocPage component created
3. ⬜ Fetches existing MOC data
4. ⬜ Loading state while fetching
5. ⬜ 404 if MOC not found

## Tasks / Subtasks

- [ ] **Task 1: Create Route**
  - [ ] Add edit route
  - [ ] Create EditMocPage.tsx

- [ ] **Task 2: Fetch MOC**
  - [ ] Use getMocById query
  - [ ] Handle loading/error

## Dev Notes

```typescript
export const Route = createFileRoute('/instructions/$mocId/edit')({
  component: EditMocPage,
})

function EditMocPage() {
  const { mocId } = Route.useParams()
  const { data: moc, isLoading, error } = useGetMocByIdQuery(mocId)
  const navigate = useNavigate()

  if (isLoading) return <EditMocSkeleton />
  if (error || !moc) return <NotFoundPage />

  const handleSuccess = () => {
    navigate({ to: `/gallery/${mocId}` })
  }

  return (
    <div className="container py-6 max-w-2xl">
      <div className="flex items-center justify-between mb-6">
        <h1 className="text-2xl font-bold">Edit MOC</h1>
        <Button variant="ghost" asChild>
          <Link to={`/gallery/${mocId}`}>Cancel</Link>
        </Button>
      </div>
      <MocForm moc={moc} onSuccess={handleSuccess} />
    </div>
  )
}
```

## Change Log

| Date       | Version | Description   | Author   |
| ---------- | ------- | ------------- | -------- |
| 2025-11-28 | 0.1     | Initial draft | SM Agent |
