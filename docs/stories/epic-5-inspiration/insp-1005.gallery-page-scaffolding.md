# Story insp-1005: Gallery Page Scaffolding

## Status

Draft

## Story

**As a** user,
**I want** to access the Inspiration Gallery page,
**so that** I can browse my saved inspiration images.

## Acceptance Criteria

1. Route /inspiration configured in router
2. InspirationGalleryPage component renders
3. Lazy loading configured for route
4. Page fetches and displays inspirations from API
5. Integrates with shared gallery components (@repo/gallery or equivalent)
6. Shows loading skeleton while fetching

## Tasks / Subtasks

- [ ] **Task 1: Create Route Structure** (AC: 1, 3)
  - [ ] Create `routes/inspiration/` folder
  - [ ] Create `routes/inspiration/index.tsx`
  - [ ] Configure lazy loading in router
  - [ ] Add to navigation menu

- [ ] **Task 2: Create Page Component** (AC: 2, 4)
  - [ ] Create InspirationGalleryPage component
  - [ ] Add RTK Query hook for fetching inspirations
  - [ ] Handle loading and error states

- [ ] **Task 3: Integrate Gallery Components** (AC: 5, 6)
  - [ ] Verify shared gallery package meets needs
  - [ ] Import GalleryGrid, GallerySkeleton components
  - [ ] Set up gallery layout structure

- [ ] **Task 4: Add API Slice** (AC: 4)
  - [ ] Create inspirations API slice in api-client
  - [ ] Add useGetInspirationsQuery hook
  - [ ] Configure cache tags for invalidation

## Dev Notes

### Route Location
`apps/web/main-app/src/routes/inspiration/index.tsx`

### Page Structure

```typescript
import { createFileRoute } from '@tanstack/react-router'
import { useGetInspirationsQuery } from '@repo/api-client'
import { GalleryGrid, GallerySkeleton } from '@repo/gallery' // or equivalent

export const Route = createFileRoute('/inspiration/')({
  component: InspirationGalleryPage,
})

function InspirationGalleryPage() {
  const { data, isLoading, error } = useGetInspirationsQuery({
    limit: 50,
    sortField: 'sortOrder',
  })

  if (isLoading) {
    return <GallerySkeleton count={12} />
  }

  return (
    <div className="container mx-auto py-6">
      <div className="flex items-center justify-between mb-6">
        <h1 className="text-2xl font-bold">Inspiration Gallery</h1>
        {/* Upload button added in later story */}
      </div>
      <GalleryGrid>
        {data?.items.map((item) => (
          <InspirationCard key={item.id} inspiration={item} />
        ))}
      </GalleryGrid>
    </div>
  )
}
```

### Shared Gallery Package
Verify @repo/gallery exists and has needed components. If not, create minimal local versions for this story and refactor later.

### Dependencies
- insp-1004: List Inspirations Endpoint must be deployed

## Testing

- [ ] Route /inspiration renders page
- [ ] Loading skeleton shows during fetch
- [ ] Inspirations display after fetch
- [ ] Error state handled gracefully
- [ ] Page accessible from navigation

## Change Log

| Date       | Version | Description   | Author   |
| ---------- | ------- | ------------- | -------- |
| 2025-12-27 | 0.1     | Initial draft | SM Agent |
