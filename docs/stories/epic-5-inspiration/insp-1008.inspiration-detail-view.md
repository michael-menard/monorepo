# Story insp-1008: Inspiration Detail View

## Status

Draft

## Story

**As a** user,
**I want** to view a single inspiration in detail,
**so that** I can see the full-size image and all metadata.

## Acceptance Criteria

1. Route /inspiration/:id renders detail view
2. Displays full-size image
3. Shows metadata panel (title, description, tags, sourceUrl)
4. Shows "Also in:" section with album badges
5. Album badges are clickable (navigate to album)
6. Back button returns to previous location

## Tasks / Subtasks

- [ ] **Task 1: Create Route** (AC: 1)
  - [ ] Create `routes/inspiration/$id.tsx`
  - [ ] Configure route with id parameter
  - [ ] Add lazy loading

- [ ] **Task 2: Create Detail Component** (AC: 2, 3)
  - [ ] Fetch inspiration using useGetInspirationQuery
  - [ ] Display full-size image
  - [ ] Show metadata panel with all fields
  - [ ] Link sourceUrl to external site

- [ ] **Task 3: Add Album Membership Display** (AC: 4, 5)
  - [ ] Show "Also in:" section if in albums
  - [ ] Display album badges
  - [ ] Make badges clickable to navigate

- [ ] **Task 4: Add Navigation** (AC: 6)
  - [ ] Add back button
  - [ ] Use router history for back navigation
  - [ ] Add breadcrumb or context indicator

## Dev Notes

### Route Location
`apps/web/main-app/src/routes/inspiration/$id.tsx`

### Layout Structure

```tsx
function InspirationDetailPage() {
  const { id } = Route.useParams()
  const navigate = useNavigate()
  const { data, isLoading } = useGetInspirationQuery(id)

  if (isLoading) return <DetailSkeleton />

  return (
    <div className="container mx-auto py-6">
      {/* Back button */}
      <Button variant="ghost" onClick={() => navigate({ to: '..' })}>
        <ArrowLeft className="w-4 h-4 mr-2" />
        Back to Gallery
      </Button>

      <div className="grid grid-cols-1 lg:grid-cols-3 gap-6 mt-4">
        {/* Full-size image */}
        <div className="lg:col-span-2">
          <img
            src={data.imageUrl}
            alt={data.title || 'Inspiration image'}
            className="w-full rounded-lg"
          />
        </div>

        {/* Metadata panel */}
        <div className="space-y-6">
          <div>
            <h1 className="text-2xl font-bold">
              {data.title || 'Untitled'}
            </h1>
            {data.description && (
              <p className="text-muted-foreground mt-2">{data.description}</p>
            )}
          </div>

          {data.sourceUrl && (
            <a href={data.sourceUrl} target="_blank" rel="noopener">
              View Source <ExternalLink className="w-4 h-4" />
            </a>
          )}

          {data.tags.length > 0 && (
            <div className="flex flex-wrap gap-2">
              {data.tags.map(tag => <Badge key={tag}>{tag}</Badge>)}
            </div>
          )}

          {/* Also in section */}
          {data.albums.length > 0 && (
            <div>
              <h3 className="font-medium mb-2">Also in:</h3>
              <div className="flex flex-wrap gap-2">
                {data.albums.map(album => (
                  <Badge
                    key={album.id}
                    variant="outline"
                    className="cursor-pointer"
                    onClick={() => navigate({ to: '/inspiration/albums/$id', params: { id: album.id } })}
                  >
                    {album.title}
                  </Badge>
                ))}
              </div>
            </div>
          )}
        </div>
      </div>
    </div>
  )
}
```

### Dependencies
- insp-1007: Get Single Inspiration Endpoint

## Testing

- [ ] Route renders with valid ID
- [ ] Shows 404 for invalid ID
- [ ] Image displays at full size
- [ ] Metadata displays correctly
- [ ] Album badges navigate correctly
- [ ] Back button works

## Change Log

| Date       | Version | Description   | Author   |
| ---------- | ------- | ------------- | -------- |
| 2025-12-27 | 0.1     | Initial draft | SM Agent |
