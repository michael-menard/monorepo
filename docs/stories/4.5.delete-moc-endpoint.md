# Story 4.5: Delete MOC Endpoint

## Status

Approved

## Story

**As a** user,
**I want** to delete MOCs from my collection,
**so that** I can remove unwanted items.

## Acceptance Criteria

1. â¬œ `useDeleteMocMutation` hook available
2. â¬œ DELETE /mocs/:id
3. â¬œ Cascade deletes all files
4. â¬œ Invalidates caches
5. ðŸ”„ Backend: DELETE /mocs/:id with cascade

## Tasks / Subtasks

- [ ] **Task 1: Define Mutation**
  - [ ] Add deleteMoc mutation
  - [ ] Accept id
  - [ ] Invalidate all relevant tags

## Dev Notes

```typescript
deleteMoc: builder.mutation<void, string>({
  query: (id) => ({
    url: `/mocs/${id}`,
    method: 'DELETE',
  }),
  invalidatesTags: (result, error, id) => [
    { type: 'MocDetail', id },
    'Mocs',
    'DashboardStats',
    'RecentMocs',
  ],
}),
```

## Change Log

| Date       | Version | Description   | Author   |
| ---------- | ------- | ------------- | -------- |
| 2025-11-28 | 0.1     | Initial draft | SM Agent |
