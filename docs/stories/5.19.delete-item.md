# Story 5.19: Delete Item

## Status

Approved

## Story

**As a** user,
**I want** to delete wishlist items,
**so that** I can remove purchased items.

## Acceptance Criteria

1. ⬜ Delete button on each item
2. ⬜ Confirmation before delete
3. ⬜ Calls deleteWishlistItem mutation
4. ⬜ Optimistic removal
5. ⬜ Success toast

## Tasks / Subtasks

- [ ] **Task 1: Delete Confirmation**
  - [ ] Confirmation dialog
  - [ ] Warning message

- [ ] **Task 2: Delete Action**
  - [ ] Call mutation
  - [ ] Handle result

## Dev Notes

```typescript
function DeleteItemDialog({ item, open, onOpenChange }: DeleteItemDialogProps) {
  const [deleteItem, { isLoading }] = useDeleteWishlistItemMutation()

  const handleDelete = async () => {
    try {
      await deleteItem(item.id).unwrap()
      toast.success('Item removed from wishlist')
      onOpenChange(false)
    } catch {
      toast.error('Failed to delete item')
    }
  }

  return (
    <AlertDialog open={open} onOpenChange={onOpenChange}>
      <AlertDialogContent>
        <AlertDialogHeader>
          <AlertDialogTitle>Remove from wishlist?</AlertDialogTitle>
          <AlertDialogDescription>
            Are you sure you want to remove "{item.name}" from your wishlist?
          </AlertDialogDescription>
        </AlertDialogHeader>
        <AlertDialogFooter>
          <AlertDialogCancel>Cancel</AlertDialogCancel>
          <AlertDialogAction onClick={handleDelete} disabled={isLoading}>
            {isLoading ? 'Removing...' : 'Remove'}
          </AlertDialogAction>
        </AlertDialogFooter>
      </AlertDialogContent>
    </AlertDialog>
  )
}
```

## Change Log

| Date       | Version | Description   | Author   |
| ---------- | ------- | ------------- | -------- |
| 2025-11-28 | 0.1     | Initial draft | SM Agent |
