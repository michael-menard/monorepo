# Story 3.8: Search Input

## Status

Approved

## Story

**As a** user,
**I want** a search input to find MOCs,
**so that** I can quickly locate specific items.

## Acceptance Criteria

1. ⬜ SearchInput component created
2. ⬜ Debounced input (300ms)
3. ⬜ Search icon and clear button
4. ⬜ Placeholder text
5. ⬜ Controlled value

## Tasks / Subtasks

- [ ] **Task 1: Create Component**
  - [ ] Create SearchInput.tsx
  - [ ] Accept value and onChange

- [ ] **Task 2: Debounce**
  - [ ] Use useDebouncedCallback
  - [ ] 300ms delay

- [ ] **Task 3: UI Elements**
  - [ ] Search icon (left)
  - [ ] Clear button (right, when has value)

## Dev Notes

```typescript
interface SearchInputProps {
  value: string
  onChange: (value: string) => void
  placeholder?: string
}

export function SearchInput({ value, onChange, placeholder }: SearchInputProps) {
  const [localValue, setLocalValue] = useState(value)

  const debouncedOnChange = useDebouncedCallback(onChange, 300)

  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {
    setLocalValue(e.target.value)
    debouncedOnChange(e.target.value)
  }

  return (
    <div className="relative">
      <Search className="absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground" />
      <Input
        value={localValue}
        onChange={handleChange}
        placeholder={placeholder || "Search MOCs..."}
        className="pl-9 pr-9"
      />
      {localValue && (
        <Button
          variant="ghost"
          size="icon"
          className="absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7"
          onClick={() => { setLocalValue(''); onChange('') }}
        >
          <X className="h-4 w-4" />
        </Button>
      )}
    </div>
  )
}
```

## Change Log

| Date       | Version | Description   | Author   |
| ---------- | ------- | ------------- | -------- |
| 2025-11-28 | 0.1     | Initial draft | SM Agent |
