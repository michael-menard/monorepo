# Story 1.12: Main Layout

## Status

Approved

## Story

**As a** developer,
**I want** a MainLayout composing all layout components,
**so that** pages have consistent structure.

## Acceptance Criteria

1. ✅ MainLayout/RootLayout component exists
2. ⬜ Composes Header, Sidebar, Footer, and content area
3. ⬜ Content area scrollable independently
4. ⬜ Sidebar on left, content on right
5. ⬜ Full viewport height layout
6. ⬜ Responsive: sidebar hidden on mobile, shown on desktop
7. ⬜ Content area receives children (page content)

## Tasks / Subtasks

- [ ] **Task 1: Verify Layout Component** (AC: 1)
  - [x] Check components/Layout/RootLayout.tsx exists
  - [x] Check MainArea.tsx for content wrapper
  - [ ] Review composition

- [ ] **Task 2: Verify Composition** (AC: 2)
  - [ ] Header at top
  - [ ] Sidebar on left
  - [ ] Content in center/right
  - [ ] Footer at bottom

- [ ] **Task 3: Verify Scrolling** (AC: 3)
  - [ ] Content area has overflow-auto
  - [ ] Header/Footer stay fixed in view
  - [ ] Sidebar scrolls independently if needed

- [ ] **Task 4: Verify Layout Structure** (AC: 4-5)
  - [ ] Use CSS Grid or Flexbox
  - [ ] Full height: min-h-screen or h-screen
  - [ ] Proper z-index layering

- [ ] **Task 5: Verify Responsive** (AC: 6)
  - [ ] Sidebar hidden on mobile (< md)
  - [ ] MobileSidebar used instead
  - [ ] Content full width on mobile

- [ ] **Task 6: Verify Children Rendering** (AC: 7)
  - [ ] {children} prop rendered in content area
  - [ ] Used as wrapper in router config

## Dev Notes

### Existing Files

- `apps/web/main-app/src/components/Layout/RootLayout.tsx`
- `apps/web/main-app/src/components/Layout/MainArea.tsx`
- `apps/web/main-app/src/components/Layout/Header.tsx`
- `apps/web/main-app/src/components/Layout/Sidebar.tsx`
- `apps/web/main-app/src/components/Layout/Footer.tsx`

### Layout Structure

```typescript
export function RootLayout({ children }: { children: React.ReactNode }) {
  return (
    <div className="min-h-screen flex flex-col">
      <Header />
      <div className="flex flex-1">
        <Sidebar className="hidden md:block" />
        <MobileSidebar className="md:hidden" />
        <main className="flex-1 overflow-auto">
          {children}
        </main>
      </div>
      <Footer />
    </div>
  )
}
```

### Router Integration

```typescript
// In route config
export const Route = createRootRoute({
  component: () => (
    <RootLayout>
      <Outlet />
    </RootLayout>
  ),
})
```

### Testing

- Test all components render
- Test responsive behavior
- Test scrolling works correctly
- Test children render in content area

## Change Log

| Date       | Version | Description   | Author   |
| ---------- | ------- | ------------- | -------- |
| 2025-11-28 | 0.1     | Initial draft | SM Agent |
