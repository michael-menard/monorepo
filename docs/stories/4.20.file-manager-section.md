# Story 4.20: File Manager Section

## Status

Approved

## Story

**As a** user,
**I want** to see and manage all files for a MOC,
**so that** I can organize my attachments.

## Acceptance Criteria

1. ⬜ FileManager component on edit page
2. ⬜ Lists all files by type
3. ⬜ Sections: Images, Instructions, Parts Lists
4. ⬜ Upload buttons for each type
5. ⬜ Delete option per file

## Tasks / Subtasks

- [ ] **Task 1: Create Component**
  - [ ] Create FileManager.tsx
  - [ ] Group files by type

- [ ] **Task 2: Sections**
  - [ ] Collapsible sections
  - [ ] File counts

## Dev Notes

```typescript
interface FileManagerProps {
  mocId: string
  files: MocFile[]
}

export function FileManager({ mocId, files }: FileManagerProps) {
  const images = files.filter(f => f.type === 'image')
  const pdfs = files.filter(f => f.type === 'pdf')
  const partsLists = files.filter(f => ['xml', 'csv', 'json'].includes(f.type))

  return (
    <div className="space-y-6">
      <FileSection
        title="Images"
        icon={ImageIcon}
        files={images}
        mocId={mocId}
        accept="image/*"
      />
      <FileSection
        title="Instructions (PDF)"
        icon={FileText}
        files={pdfs}
        mocId={mocId}
        accept=".pdf"
      />
      <FileSection
        title="Parts Lists"
        icon={List}
        files={partsLists}
        mocId={mocId}
        accept=".xml,.csv,.json"
      />
    </div>
  )
}
```

## Change Log

| Date       | Version | Description   | Author   |
| ---------- | ------- | ------------- | -------- |
| 2025-11-28 | 0.1     | Initial draft | SM Agent |
