---
description: Standardize unit vs E2E testing policy, mocking strategy, and timeouts
globs: **/*
alwaysApply: true
---

- **Unit/Component Tests**
  - Use Vitest (frontend) and Jest (backend) with Testing Library/Supertest as applicable
  - Mock all external dependencies (network, storage, heavy UI)
  - Colocate tests in `__tests__`; keep deterministic and fast

- **E2E (Playwright)**
  - No mocks; use real services and data
  - Max test timeout: 15s per test
  - Ensure required services are up via docker-compose where applicable

- **Coverage**
  - Enforce thresholds in Phase B only: lines ≥ 90%, branches ≥ 85%, functions ≥ 90%, statements ≥ 90%

- **Reference**
  - See [cursor_rules.mdc](mdc:.cursor/rules/cursor_rules.mdc)
